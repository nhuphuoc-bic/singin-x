"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/image-demo";
exports.ids = ["pages/image-demo"];
exports.modules = {

/***/ "./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Fimage-demo&preferredRegion=&absolutePagePath=.%2Fpages%2Fimage-demo.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Fimage-demo&preferredRegion=&absolutePagePath=.%2Fpages%2Fimage-demo.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getServerSideProps: () => (/* binding */ getServerSideProps),\n/* harmony export */   getStaticPaths: () => (/* binding */ getStaticPaths),\n/* harmony export */   getStaticProps: () => (/* binding */ getStaticProps),\n/* harmony export */   reportWebVitals: () => (/* binding */ reportWebVitals),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   unstable_getServerProps: () => (/* binding */ unstable_getServerProps),\n/* harmony export */   unstable_getServerSideProps: () => (/* binding */ unstable_getServerSideProps),\n/* harmony export */   unstable_getStaticParams: () => (/* binding */ unstable_getStaticParams),\n/* harmony export */   unstable_getStaticPaths: () => (/* binding */ unstable_getStaticPaths),\n/* harmony export */   unstable_getStaticProps: () => (/* binding */ unstable_getStaticProps)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages/module.compiled */ \"./node_modules/next/dist/server/future/route-modules/pages/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! private-next-pages/_document */ \"./node_modules/next/dist/pages/_document.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! private-next-pages/_app */ \"./node_modules/next/dist/pages/_app.js\");\n/* harmony import */ var private_next_pages_app__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _pages_image_demo_tsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./pages/image-demo.tsx */ \"./pages/image-demo.tsx\");\n\n\n\n// Import the app and document modules.\n\n\n// Import the userland code.\n\n// Re-export the component (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_image_demo_tsx__WEBPACK_IMPORTED_MODULE_5__, \"default\"));\n// Re-export methods.\nconst getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_image_demo_tsx__WEBPACK_IMPORTED_MODULE_5__, \"getStaticProps\");\nconst getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_image_demo_tsx__WEBPACK_IMPORTED_MODULE_5__, \"getStaticPaths\");\nconst getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_image_demo_tsx__WEBPACK_IMPORTED_MODULE_5__, \"getServerSideProps\");\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_image_demo_tsx__WEBPACK_IMPORTED_MODULE_5__, \"config\");\nconst reportWebVitals = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_image_demo_tsx__WEBPACK_IMPORTED_MODULE_5__, \"reportWebVitals\");\n// Re-export legacy methods.\nconst unstable_getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_image_demo_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticProps\");\nconst unstable_getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_image_demo_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticPaths\");\nconst unstable_getStaticParams = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_image_demo_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticParams\");\nconst unstable_getServerProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_image_demo_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getServerProps\");\nconst unstable_getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_image_demo_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getServerSideProps\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES,\n        page: \"/image-demo\",\n        pathname: \"/image-demo\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    components: {\n        App: (private_next_pages_app__WEBPACK_IMPORTED_MODULE_4___default()),\n        Document: (private_next_pages_document__WEBPACK_IMPORTED_MODULE_3___default())\n    },\n    userland: _pages_image_demo_tsx__WEBPACK_IMPORTED_MODULE_5__\n});\n\n//# sourceMappingURL=pages.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTJnBhZ2U9JTJGaW1hZ2UtZGVtbyZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTJGaW1hZ2UtZGVtby50c3gmYWJzb2x1dGVBcHBQYXRoPXByaXZhdGUtbmV4dC1wYWdlcyUyRl9hcHAmYWJzb2x1dGVEb2N1bWVudFBhdGg9cHJpdmF0ZS1uZXh0LXBhZ2VzJTJGX2RvY3VtZW50Jm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDaEM7QUFDTDtBQUMxRDtBQUNvRDtBQUNWO0FBQzFDO0FBQ21EO0FBQ25EO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyxrREFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyx1QkFBdUIsd0VBQUssQ0FBQyxrREFBUTtBQUNyQyx1QkFBdUIsd0VBQUssQ0FBQyxrREFBUTtBQUNyQywyQkFBMkIsd0VBQUssQ0FBQyxrREFBUTtBQUN6QyxlQUFlLHdFQUFLLENBQUMsa0RBQVE7QUFDN0Isd0JBQXdCLHdFQUFLLENBQUMsa0RBQVE7QUFDN0M7QUFDTyxnQ0FBZ0Msd0VBQUssQ0FBQyxrREFBUTtBQUM5QyxnQ0FBZ0Msd0VBQUssQ0FBQyxrREFBUTtBQUM5QyxpQ0FBaUMsd0VBQUssQ0FBQyxrREFBUTtBQUMvQyxnQ0FBZ0Msd0VBQUssQ0FBQyxrREFBUTtBQUM5QyxvQ0FBb0Msd0VBQUssQ0FBQyxrREFBUTtBQUN6RDtBQUNPLHdCQUF3Qix5R0FBZ0I7QUFDL0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxXQUFXO0FBQ1gsZ0JBQWdCO0FBQ2hCLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsid2VicGFjazovL3NpZ25pbngvP2IxNzUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSBhcHAgYW5kIGRvY3VtZW50IG1vZHVsZXMuXG5pbXBvcnQgRG9jdW1lbnQgZnJvbSBcInByaXZhdGUtbmV4dC1wYWdlcy9fZG9jdW1lbnRcIjtcbmltcG9ydCBBcHAgZnJvbSBcInByaXZhdGUtbmV4dC1wYWdlcy9fYXBwXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlcy9pbWFnZS1kZW1vLnRzeFwiO1xuLy8gUmUtZXhwb3J0IHRoZSBjb21wb25lbnQgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBtZXRob2RzLlxuZXhwb3J0IGNvbnN0IGdldFN0YXRpY1Byb3BzID0gaG9pc3QodXNlcmxhbmQsIFwiZ2V0U3RhdGljUHJvcHNcIik7XG5leHBvcnQgY29uc3QgZ2V0U3RhdGljUGF0aHMgPSBob2lzdCh1c2VybGFuZCwgXCJnZXRTdGF0aWNQYXRoc1wiKTtcbmV4cG9ydCBjb25zdCBnZXRTZXJ2ZXJTaWRlUHJvcHMgPSBob2lzdCh1c2VybGFuZCwgXCJnZXRTZXJ2ZXJTaWRlUHJvcHNcIik7XG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuZXhwb3J0IGNvbnN0IHJlcG9ydFdlYlZpdGFscyA9IGhvaXN0KHVzZXJsYW5kLCBcInJlcG9ydFdlYlZpdGFsc1wiKTtcbi8vIFJlLWV4cG9ydCBsZWdhY3kgbWV0aG9kcy5cbmV4cG9ydCBjb25zdCB1bnN0YWJsZV9nZXRTdGF0aWNQcm9wcyA9IGhvaXN0KHVzZXJsYW5kLCBcInVuc3RhYmxlX2dldFN0YXRpY1Byb3BzXCIpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFN0YXRpY1BhdGhzID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U3RhdGljUGF0aHNcIik7XG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U3RhdGljUGFyYW1zID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U3RhdGljUGFyYW1zXCIpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFNlcnZlclByb3BzID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U2VydmVyUHJvcHNcIik7XG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U2VydmVyU2lkZVByb3BzID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U2VydmVyU2lkZVByb3BzXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVMsXG4gICAgICAgIHBhZ2U6IFwiL2ltYWdlLWRlbW9cIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2ltYWdlLWRlbW9cIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgY29tcG9uZW50czoge1xuICAgICAgICBBcHAsXG4gICAgICAgIERvY3VtZW50XG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Fimage-demo&preferredRegion=&absolutePagePath=.%2Fpages%2Fimage-demo.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "./components/CacheStats.tsx":
/*!***********************************!*\
  !*** ./components/CacheStats.tsx ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CacheStats: () => (/* binding */ CacheStats),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _contexts_ImageCacheContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../contexts/ImageCacheContext */ \"./contexts/ImageCacheContext.tsx\");\n\n\n\nconst CacheStats = ()=>{\n    const { clearCache, getCacheStats } = (0,_contexts_ImageCacheContext__WEBPACK_IMPORTED_MODULE_2__.useImageCache)();\n    const [cacheInfo, setCacheInfo] = react__WEBPACK_IMPORTED_MODULE_1___default().useState({\n        count: 0,\n        totalSize: 0\n    });\n    react__WEBPACK_IMPORTED_MODULE_1___default().useEffect(()=>{\n        const updateCacheInfo = async ()=>{\n            try {\n                const stats = await getCacheStats();\n                setCacheInfo(stats);\n            } catch (error) {\n                console.warn(\"Failed to get cache stats:\", error);\n            }\n        };\n        updateCacheInfo();\n        const interval = setInterval(updateCacheInfo, 3000); // Update every 3 seconds\n        return ()=>clearInterval(interval);\n    }, [\n        getCacheStats\n    ]);\n    const formatBytes = (bytes)=>{\n        if (bytes === 0) return \"0 Bytes\";\n        const k = 1024;\n        const sizes = [\n            \"Bytes\",\n            \"KB\",\n            \"MB\",\n            \"GB\"\n        ];\n        const i = Math.floor(Math.log(bytes) / Math.log(k));\n        return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + \" \" + sizes[i];\n    };\n    const handleClearCache = async ()=>{\n        try {\n            await clearCache();\n            setCacheInfo({\n                count: 0,\n                totalSize: 0\n            });\n        } catch (error) {\n            console.error(\"Failed to clear cache:\", error);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            position: \"fixed\",\n            top: \"20px\",\n            right: \"20px\",\n            backgroundColor: \"#ffffff\",\n            border: \"1px solid #e2e8f0\",\n            borderRadius: \"8px\",\n            padding: \"16px\",\n            boxShadow: \"0 4px 6px -1px rgba(0, 0, 0, 0.1)\",\n            zIndex: 1000,\n            minWidth: \"200px\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                style: {\n                    margin: \"0 0 12px 0\",\n                    fontSize: \"14px\",\n                    fontWeight: \"600\"\n                },\n                children: \"Cache Statistics\"\n            }, void 0, false, {\n                fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/components/CacheStats.tsx\",\n                lineNumber: 56,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    fontSize: \"12px\",\n                    marginBottom: \"8px\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            \"Cached Images: \",\n                            cacheInfo.count\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/components/CacheStats.tsx\",\n                        lineNumber: 60,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            \"Memory Usage: \",\n                            formatBytes(cacheInfo.totalSize)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/components/CacheStats.tsx\",\n                        lineNumber: 61,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/components/CacheStats.tsx\",\n                lineNumber: 59,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: handleClearCache,\n                style: {\n                    backgroundColor: \"#ef4444\",\n                    color: \"white\",\n                    border: \"none\",\n                    borderRadius: \"4px\",\n                    padding: \"6px 12px\",\n                    fontSize: \"12px\",\n                    cursor: \"pointer\"\n                },\n                children: \"Clear Cache\"\n            }, void 0, false, {\n                fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/components/CacheStats.tsx\",\n                lineNumber: 63,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/components/CacheStats.tsx\",\n        lineNumber: 44,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CacheStats);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL0NhY2hlU3RhdHMudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQTBCO0FBQ29DO0FBRXZELE1BQU1FLGFBQXVCO0lBQ2xDLE1BQU0sRUFBRUMsVUFBVSxFQUFFQyxhQUFhLEVBQUUsR0FBR0gsMEVBQWFBO0lBQ25ELE1BQU0sQ0FBQ0ksV0FBV0MsYUFBYSxHQUFHTixxREFBYyxDQUc3QztRQUFFUSxPQUFPO1FBQUdDLFdBQVc7SUFBRTtJQUU1QlQsc0RBQWUsQ0FBQztRQUNkLE1BQU1XLGtCQUFrQjtZQUN0QixJQUFJO2dCQUNGLE1BQU1DLFFBQVEsTUFBTVI7Z0JBQ3BCRSxhQUFhTTtZQUNmLEVBQUUsT0FBT0MsT0FBTztnQkFDZEMsUUFBUUMsSUFBSSxDQUFDLDhCQUE4QkY7WUFDN0M7UUFDRjtRQUVBRjtRQUNBLE1BQU1LLFdBQVdDLFlBQVlOLGlCQUFpQixPQUFPLHlCQUF5QjtRQUM5RSxPQUFPLElBQU1PLGNBQWNGO0lBQzdCLEdBQUc7UUFBQ1o7S0FBYztJQUVsQixNQUFNZSxjQUFjLENBQUNDO1FBQ25CLElBQUlBLFVBQVUsR0FBRyxPQUFPO1FBQ3hCLE1BQU1DLElBQUk7UUFDVixNQUFNQyxRQUFRO1lBQUM7WUFBUztZQUFNO1lBQU07U0FBSztRQUN6QyxNQUFNQyxJQUFJQyxLQUFLQyxLQUFLLENBQUNELEtBQUtFLEdBQUcsQ0FBQ04sU0FBU0ksS0FBS0UsR0FBRyxDQUFDTDtRQUNoRCxPQUFPTSxXQUFXLENBQUNQLFFBQVFJLEtBQUtJLEdBQUcsQ0FBQ1AsR0FBR0UsRUFBQyxFQUFHTSxPQUFPLENBQUMsTUFBTSxNQUFNUCxLQUFLLENBQUNDLEVBQUU7SUFDekU7SUFFQSxNQUFNTyxtQkFBbUI7UUFDdkIsSUFBSTtZQUNGLE1BQU0zQjtZQUNORyxhQUFhO2dCQUFFRSxPQUFPO2dCQUFHQyxXQUFXO1lBQUU7UUFDeEMsRUFBRSxPQUFPSSxPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQywwQkFBMEJBO1FBQzFDO0lBQ0Y7SUFFQSxxQkFDRSw4REFBQ2tCO1FBQUlDLE9BQU87WUFDVkMsVUFBVTtZQUNWQyxLQUFLO1lBQ0xDLE9BQU87WUFDUEMsaUJBQWlCO1lBQ2pCQyxRQUFRO1lBQ1JDLGNBQWM7WUFDZEMsU0FBUztZQUNUQyxXQUFXO1lBQ1hDLFFBQVE7WUFDUkMsVUFBVTtRQUNaOzswQkFDRSw4REFBQ0M7Z0JBQUdYLE9BQU87b0JBQUVZLFFBQVE7b0JBQWNDLFVBQVU7b0JBQVFDLFlBQVk7Z0JBQU07MEJBQUc7Ozs7OzswQkFHMUUsOERBQUNmO2dCQUFJQyxPQUFPO29CQUFFYSxVQUFVO29CQUFRRSxjQUFjO2dCQUFNOztrQ0FDbEQsOERBQUNoQjs7NEJBQUk7NEJBQWdCMUIsVUFBVUcsS0FBSzs7Ozs7OztrQ0FDcEMsOERBQUN1Qjs7NEJBQUk7NEJBQWVaLFlBQVlkLFVBQVVJLFNBQVM7Ozs7Ozs7Ozs7Ozs7MEJBRXJELDhEQUFDdUM7Z0JBQ0NDLFNBQVNuQjtnQkFDVEUsT0FBTztvQkFDTEksaUJBQWlCO29CQUNqQmMsT0FBTztvQkFDUGIsUUFBUTtvQkFDUkMsY0FBYztvQkFDZEMsU0FBUztvQkFDVE0sVUFBVTtvQkFDVk0sUUFBUTtnQkFDVjswQkFDRDs7Ozs7Ozs7Ozs7O0FBS1AsRUFBRTtBQUVGLGlFQUFlakQsVUFBVUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3NpZ25pbngvLi9jb21wb25lbnRzL0NhY2hlU3RhdHMudHN4P2IwNTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUltYWdlQ2FjaGUgfSBmcm9tICcuLi9jb250ZXh0cy9JbWFnZUNhY2hlQ29udGV4dCc7XG5cbmV4cG9ydCBjb25zdCBDYWNoZVN0YXRzOiBSZWFjdC5GQyA9ICgpID0+IHtcbiAgY29uc3QgeyBjbGVhckNhY2hlLCBnZXRDYWNoZVN0YXRzIH0gPSB1c2VJbWFnZUNhY2hlKCk7XG4gIGNvbnN0IFtjYWNoZUluZm8sIHNldENhY2hlSW5mb10gPSBSZWFjdC51c2VTdGF0ZTx7XG4gICAgY291bnQ6IG51bWJlcjtcbiAgICB0b3RhbFNpemU6IG51bWJlcjtcbiAgfT4oeyBjb3VudDogMCwgdG90YWxTaXplOiAwIH0pO1xuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgdXBkYXRlQ2FjaGVJbmZvID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc3RhdHMgPSBhd2FpdCBnZXRDYWNoZVN0YXRzKCk7XG4gICAgICAgIHNldENhY2hlSW5mbyhzdGF0cyk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBnZXQgY2FjaGUgc3RhdHM6JywgZXJyb3IpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB1cGRhdGVDYWNoZUluZm8oKTtcbiAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKHVwZGF0ZUNhY2hlSW5mbywgMzAwMCk7IC8vIFVwZGF0ZSBldmVyeSAzIHNlY29uZHNcbiAgICByZXR1cm4gKCkgPT4gY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gIH0sIFtnZXRDYWNoZVN0YXRzXSk7XG5cbiAgY29uc3QgZm9ybWF0Qnl0ZXMgPSAoYnl0ZXM6IG51bWJlcik6IHN0cmluZyA9PiB7XG4gICAgaWYgKGJ5dGVzID09PSAwKSByZXR1cm4gJzAgQnl0ZXMnO1xuICAgIGNvbnN0IGsgPSAxMDI0O1xuICAgIGNvbnN0IHNpemVzID0gWydCeXRlcycsICdLQicsICdNQicsICdHQiddO1xuICAgIGNvbnN0IGkgPSBNYXRoLmZsb29yKE1hdGgubG9nKGJ5dGVzKSAvIE1hdGgubG9nKGspKTtcbiAgICByZXR1cm4gcGFyc2VGbG9hdCgoYnl0ZXMgLyBNYXRoLnBvdyhrLCBpKSkudG9GaXhlZCgyKSkgKyAnICcgKyBzaXplc1tpXTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVDbGVhckNhY2hlID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBjbGVhckNhY2hlKCk7XG4gICAgICBzZXRDYWNoZUluZm8oeyBjb3VudDogMCwgdG90YWxTaXplOiAwIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gY2xlYXIgY2FjaGU6JywgZXJyb3IpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgc3R5bGU9e3tcbiAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgICAgdG9wOiAnMjBweCcsXG4gICAgICByaWdodDogJzIwcHgnLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2ZmZmZmZicsXG4gICAgICBib3JkZXI6ICcxcHggc29saWQgI2UyZThmMCcsXG4gICAgICBib3JkZXJSYWRpdXM6ICc4cHgnLFxuICAgICAgcGFkZGluZzogJzE2cHgnLFxuICAgICAgYm94U2hhZG93OiAnMCA0cHggNnB4IC0xcHggcmdiYSgwLCAwLCAwLCAwLjEpJyxcbiAgICAgIHpJbmRleDogMTAwMCxcbiAgICAgIG1pbldpZHRoOiAnMjAwcHgnXG4gICAgfX0+XG4gICAgICA8aDMgc3R5bGU9e3sgbWFyZ2luOiAnMCAwIDEycHggMCcsIGZvbnRTaXplOiAnMTRweCcsIGZvbnRXZWlnaHQ6ICc2MDAnIH19PlxuICAgICAgICBDYWNoZSBTdGF0aXN0aWNzXG4gICAgICA8L2gzPlxuICAgICAgPGRpdiBzdHlsZT17eyBmb250U2l6ZTogJzEycHgnLCBtYXJnaW5Cb3R0b206ICc4cHgnIH19PlxuICAgICAgICA8ZGl2PkNhY2hlZCBJbWFnZXM6IHtjYWNoZUluZm8uY291bnR9PC9kaXY+XG4gICAgICAgIDxkaXY+TWVtb3J5IFVzYWdlOiB7Zm9ybWF0Qnl0ZXMoY2FjaGVJbmZvLnRvdGFsU2l6ZSl9PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxidXR0b25cbiAgICAgICAgb25DbGljaz17aGFuZGxlQ2xlYXJDYWNoZX1cbiAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZWY0NDQ0JyxcbiAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcbiAgICAgICAgICBib3JkZXI6ICdub25lJyxcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxuICAgICAgICAgIHBhZGRpbmc6ICc2cHggMTJweCcsXG4gICAgICAgICAgZm9udFNpemU6ICcxMnB4JyxcbiAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJ1xuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICBDbGVhciBDYWNoZVxuICAgICAgPC9idXR0b24+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBDYWNoZVN0YXRzOyAiXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VJbWFnZUNhY2hlIiwiQ2FjaGVTdGF0cyIsImNsZWFyQ2FjaGUiLCJnZXRDYWNoZVN0YXRzIiwiY2FjaGVJbmZvIiwic2V0Q2FjaGVJbmZvIiwidXNlU3RhdGUiLCJjb3VudCIsInRvdGFsU2l6ZSIsInVzZUVmZmVjdCIsInVwZGF0ZUNhY2hlSW5mbyIsInN0YXRzIiwiZXJyb3IiLCJjb25zb2xlIiwid2FybiIsImludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwiZm9ybWF0Qnl0ZXMiLCJieXRlcyIsImsiLCJzaXplcyIsImkiLCJNYXRoIiwiZmxvb3IiLCJsb2ciLCJwYXJzZUZsb2F0IiwicG93IiwidG9GaXhlZCIsImhhbmRsZUNsZWFyQ2FjaGUiLCJkaXYiLCJzdHlsZSIsInBvc2l0aW9uIiwidG9wIiwicmlnaHQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJib3JkZXIiLCJib3JkZXJSYWRpdXMiLCJwYWRkaW5nIiwiYm94U2hhZG93IiwiekluZGV4IiwibWluV2lkdGgiLCJoMyIsIm1hcmdpbiIsImZvbnRTaXplIiwiZm9udFdlaWdodCIsIm1hcmdpbkJvdHRvbSIsImJ1dHRvbiIsIm9uQ2xpY2siLCJjb2xvciIsImN1cnNvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./components/CacheStats.tsx\n");

/***/ }),

/***/ "./components/ImageFrame.tsx":
/*!***********************************!*\
  !*** ./components/ImageFrame.tsx ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ImageFrame: () => (/* binding */ ImageFrame),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _StreamedImage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./StreamedImage */ \"./components/StreamedImage.tsx\");\n\n\n\nconst ImageFrame = ({ imageId, title = \"eKYC Image\", width = 400, height = 300, showBorder = true, showTitle = true })=>{\n    const handleImageLoad = ()=>{\n        console.log(\"Image loaded successfully:\", imageId);\n    };\n    const handleImageError = (error)=>{\n        console.error(\"Failed to load image:\", imageId, error);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            border: showBorder ? \"2px solid #e2e8f0\" : \"none\",\n            borderRadius: \"8px\",\n            padding: \"16px\",\n            backgroundColor: \"#ffffff\",\n            boxShadow: showBorder ? \"0 4px 6px -1px rgba(0, 0, 0, 0.1)\" : \"none\",\n            maxWidth: \"100%\",\n            overflow: \"hidden\"\n        },\n        children: [\n            showTitle && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    fontSize: \"16px\",\n                    fontWeight: \"600\",\n                    color: \"#374151\",\n                    marginBottom: \"12px\",\n                    textAlign: \"center\"\n                },\n                children: title\n            }, void 0, false, {\n                fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/components/ImageFrame.tsx\",\n                lineNumber: 42,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    display: \"flex\",\n                    justifyContent: \"center\",\n                    alignItems: \"center\",\n                    minHeight: \"200px\"\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_StreamedImage__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                    imageId: imageId,\n                    width: width,\n                    height: height,\n                    alt: `${title} - ${imageId}`,\n                    onLoad: handleImageLoad,\n                    onError: handleImageError,\n                    fallbackSrc: \"/placeholder-image.png\" // Optional fallback image\n                    ,\n                    className: \"image-frame-content\"\n                }, void 0, false, {\n                    fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/components/ImageFrame.tsx\",\n                    lineNumber: 63,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/components/ImageFrame.tsx\",\n                lineNumber: 55,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/components/ImageFrame.tsx\",\n        lineNumber: 30,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ImageFrame);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL0ltYWdlRnJhbWUudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQTBCO0FBQ2tCO0FBV3JDLE1BQU1FLGFBQXdDLENBQUMsRUFDcERDLE9BQU8sRUFDUEMsUUFBUSxZQUFZLEVBQ3BCQyxRQUFRLEdBQUcsRUFDWEMsU0FBUyxHQUFHLEVBQ1pDLGFBQWEsSUFBSSxFQUNqQkMsWUFBWSxJQUFJLEVBQ2pCO0lBQ0MsTUFBTUMsa0JBQWtCO1FBQ3RCQyxRQUFRQyxHQUFHLENBQUMsOEJBQThCUjtJQUM1QztJQUVBLE1BQU1TLG1CQUFtQixDQUFDQztRQUN4QkgsUUFBUUcsS0FBSyxDQUFDLHlCQUF5QlYsU0FBU1U7SUFDbEQ7SUFFQSxxQkFDRSw4REFBQ0M7UUFDQ0MsT0FBTztZQUNMQyxRQUFRVCxhQUFhLHNCQUFzQjtZQUMzQ1UsY0FBYztZQUNkQyxTQUFTO1lBQ1RDLGlCQUFpQjtZQUNqQkMsV0FBV2IsYUFBYSxzQ0FBc0M7WUFDOURjLFVBQVU7WUFDVkMsVUFBVTtRQUNaOztZQUVDZCwyQkFDQyw4REFBQ007Z0JBQ0NDLE9BQU87b0JBQ0xRLFVBQVU7b0JBQ1ZDLFlBQVk7b0JBQ1pDLE9BQU87b0JBQ1BDLGNBQWM7b0JBQ2RDLFdBQVc7Z0JBQ2I7MEJBRUN2Qjs7Ozs7OzBCQUlMLDhEQUFDVTtnQkFDQ0MsT0FBTztvQkFDTGEsU0FBUztvQkFDVEMsZ0JBQWdCO29CQUNoQkMsWUFBWTtvQkFDWkMsV0FBVztnQkFDYjswQkFFQSw0RUFBQzlCLHNEQUFhQTtvQkFDWkUsU0FBU0E7b0JBQ1RFLE9BQU9BO29CQUNQQyxRQUFRQTtvQkFDUjBCLEtBQUssQ0FBQyxFQUFFNUIsTUFBTSxHQUFHLEVBQUVELFFBQVEsQ0FBQztvQkFDNUI4QixRQUFReEI7b0JBQ1J5QixTQUFTdEI7b0JBQ1R1QixhQUFZLHlCQUF5QiwwQkFBMEI7O29CQUMvREMsV0FBVTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLcEIsRUFBRTtBQUVGLGlFQUFlbEMsVUFBVUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3NpZ25pbngvLi9jb21wb25lbnRzL0ltYWdlRnJhbWUudHN4PzQ0MTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBTdHJlYW1lZEltYWdlIGZyb20gJy4vU3RyZWFtZWRJbWFnZSc7XG5cbmludGVyZmFjZSBJbWFnZUZyYW1lUHJvcHMge1xuICBpbWFnZUlkOiBzdHJpbmc7XG4gIHRpdGxlPzogc3RyaW5nO1xuICB3aWR0aD86IG51bWJlciB8IHN0cmluZztcbiAgaGVpZ2h0PzogbnVtYmVyIHwgc3RyaW5nO1xuICBzaG93Qm9yZGVyPzogYm9vbGVhbjtcbiAgc2hvd1RpdGxlPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNvbnN0IEltYWdlRnJhbWU6IFJlYWN0LkZDPEltYWdlRnJhbWVQcm9wcz4gPSAoe1xuICBpbWFnZUlkLFxuICB0aXRsZSA9ICdlS1lDIEltYWdlJyxcbiAgd2lkdGggPSA0MDAsXG4gIGhlaWdodCA9IDMwMCxcbiAgc2hvd0JvcmRlciA9IHRydWUsXG4gIHNob3dUaXRsZSA9IHRydWVcbn0pID0+IHtcbiAgY29uc3QgaGFuZGxlSW1hZ2VMb2FkID0gKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdJbWFnZSBsb2FkZWQgc3VjY2Vzc2Z1bGx5OicsIGltYWdlSWQpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUltYWdlRXJyb3IgPSAoZXJyb3I6IEVycm9yKSA9PiB7XG4gICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxvYWQgaW1hZ2U6JywgaW1hZ2VJZCwgZXJyb3IpO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgc3R5bGU9e3tcbiAgICAgICAgYm9yZGVyOiBzaG93Qm9yZGVyID8gJzJweCBzb2xpZCAjZTJlOGYwJyA6ICdub25lJyxcbiAgICAgICAgYm9yZGVyUmFkaXVzOiAnOHB4JyxcbiAgICAgICAgcGFkZGluZzogJzE2cHgnLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmZmZmJyxcbiAgICAgICAgYm94U2hhZG93OiBzaG93Qm9yZGVyID8gJzAgNHB4IDZweCAtMXB4IHJnYmEoMCwgMCwgMCwgMC4xKScgOiAnbm9uZScsXG4gICAgICAgIG1heFdpZHRoOiAnMTAwJScsXG4gICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJ1xuICAgICAgfX1cbiAgICA+XG4gICAgICB7c2hvd1RpdGxlICYmIChcbiAgICAgICAgPGRpdlxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxuICAgICAgICAgICAgZm9udFdlaWdodDogJzYwMCcsXG4gICAgICAgICAgICBjb2xvcjogJyMzNzQxNTEnLFxuICAgICAgICAgICAgbWFyZ2luQm90dG9tOiAnMTJweCcsXG4gICAgICAgICAgICB0ZXh0QWxpZ246ICdjZW50ZXInXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIHt0aXRsZX1cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgICAgXG4gICAgICA8ZGl2XG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgICBtaW5IZWlnaHQ6ICcyMDBweCdcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAgPFN0cmVhbWVkSW1hZ2VcbiAgICAgICAgICBpbWFnZUlkPXtpbWFnZUlkfVxuICAgICAgICAgIHdpZHRoPXt3aWR0aH1cbiAgICAgICAgICBoZWlnaHQ9e2hlaWdodH1cbiAgICAgICAgICBhbHQ9e2Ake3RpdGxlfSAtICR7aW1hZ2VJZH1gfVxuICAgICAgICAgIG9uTG9hZD17aGFuZGxlSW1hZ2VMb2FkfVxuICAgICAgICAgIG9uRXJyb3I9e2hhbmRsZUltYWdlRXJyb3J9XG4gICAgICAgICAgZmFsbGJhY2tTcmM9XCIvcGxhY2Vob2xkZXItaW1hZ2UucG5nXCIgLy8gT3B0aW9uYWwgZmFsbGJhY2sgaW1hZ2VcbiAgICAgICAgICBjbGFzc05hbWU9XCJpbWFnZS1mcmFtZS1jb250ZW50XCJcbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgSW1hZ2VGcmFtZTsgIl0sIm5hbWVzIjpbIlJlYWN0IiwiU3RyZWFtZWRJbWFnZSIsIkltYWdlRnJhbWUiLCJpbWFnZUlkIiwidGl0bGUiLCJ3aWR0aCIsImhlaWdodCIsInNob3dCb3JkZXIiLCJzaG93VGl0bGUiLCJoYW5kbGVJbWFnZUxvYWQiLCJjb25zb2xlIiwibG9nIiwiaGFuZGxlSW1hZ2VFcnJvciIsImVycm9yIiwiZGl2Iiwic3R5bGUiLCJib3JkZXIiLCJib3JkZXJSYWRpdXMiLCJwYWRkaW5nIiwiYmFja2dyb3VuZENvbG9yIiwiYm94U2hhZG93IiwibWF4V2lkdGgiLCJvdmVyZmxvdyIsImZvbnRTaXplIiwiZm9udFdlaWdodCIsImNvbG9yIiwibWFyZ2luQm90dG9tIiwidGV4dEFsaWduIiwiZGlzcGxheSIsImp1c3RpZnlDb250ZW50IiwiYWxpZ25JdGVtcyIsIm1pbkhlaWdodCIsImFsdCIsIm9uTG9hZCIsIm9uRXJyb3IiLCJmYWxsYmFja1NyYyIsImNsYXNzTmFtZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./components/ImageFrame.tsx\n");

/***/ }),

/***/ "./components/StreamedImage.tsx":
/*!**************************************!*\
  !*** ./components/StreamedImage.tsx ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StreamedImage: () => (/* binding */ StreamedImage),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _contexts_ImageCacheContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../contexts/ImageCacheContext */ \"./contexts/ImageCacheContext.tsx\");\n\n\n\nconst StreamedImage = ({ imageId, className = \"\", alt = \"Streamed image\", width, height, onLoad, onError, fallbackSrc })=>{\n    const [imageSrc, setImageSrc] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const { getImage } = (0,_contexts_ImageCacheContext__WEBPACK_IMPORTED_MODULE_2__.useImageCache)();\n    const abortControllerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Stabilize callback functions to prevent infinite re-renders\n    const handleLoad = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (onLoad) {\n            onLoad();\n        }\n    }, [\n        onLoad\n    ]);\n    const handleError = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((error)=>{\n        if (onError) {\n            onError(error);\n        }\n    }, [\n        onError\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let isMounted = true;\n        const loadImage = async ()=>{\n            try {\n                setIsLoading(true);\n                setError(null);\n                // Create abort controller for cleanup\n                abortControllerRef.current = new AbortController();\n                // Get image from cache (this will handle deduplication)\n                const objectUrl = await getImage(imageId);\n                if (!isMounted) return;\n                setImageSrc(objectUrl);\n                console.log(\"ImageSrc set to:\", objectUrl);\n                setIsLoading(false);\n                // Add a small delay to ensure blob URL is properly registered\n                setTimeout(()=>{\n                    if (isMounted) {\n                        handleLoad();\n                    }\n                }, 100);\n            } catch (err) {\n                if (!isMounted) return;\n                const error = err instanceof Error ? err : new Error(\"Unknown error occurred\");\n                // Provide more specific error messages\n                let errorMessage = error.message;\n                if (error.message.includes(\"400\")) {\n                    errorMessage = `Image not found or invalid ID: ${imageId}`;\n                } else if (error.message.includes(\"404\")) {\n                    errorMessage = `Image not found: ${imageId}`;\n                } else if (error.message.includes(\"500\")) {\n                    errorMessage = `Server error while loading image: ${imageId}`;\n                }\n                setError(errorMessage);\n                setIsLoading(false);\n                handleError(new Error(errorMessage));\n            }\n        };\n        loadImage();\n        // Cleanup function\n        return ()=>{\n            isMounted = false;\n            if (abortControllerRef.current) {\n                abortControllerRef.current.abort();\n            }\n        };\n    }, [\n        imageId,\n        getImage,\n        handleLoad,\n        handleError\n    ]);\n    if (isLoading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: `streamed-image-loading ${className}`,\n            style: {\n                width,\n                height,\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                backgroundColor: \"#f5f5f5\",\n                border: \"1px solid #ddd\"\n            },\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                children: \"Loading...\"\n            }, void 0, false, {\n                fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/components/StreamedImage.tsx\",\n                lineNumber: 117,\n                columnNumber: 9\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/components/StreamedImage.tsx\",\n            lineNumber: 105,\n            columnNumber: 7\n        }, undefined);\n    }\n    if (error) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: `streamed-image-error ${className}`,\n            style: {\n                width,\n                height,\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                backgroundColor: \"#fff5f5\",\n                border: \"1px solid #fed7d7\",\n                color: \"#c53030\",\n                flexDirection: \"column\",\n                padding: \"16px\",\n                textAlign: \"center\"\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        marginBottom: \"8px\"\n                    },\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                fontWeight: \"600\",\n                                marginBottom: \"4px\"\n                            },\n                            children: \"Failed to load image\"\n                        }, void 0, false, {\n                            fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/components/StreamedImage.tsx\",\n                            lineNumber: 141,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                fontSize: \"12px\",\n                                color: \"#c53030\"\n                            },\n                            children: error\n                        }, void 0, false, {\n                            fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/components/StreamedImage.tsx\",\n                            lineNumber: 142,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/components/StreamedImage.tsx\",\n                    lineNumber: 140,\n                    columnNumber: 9\n                }, undefined),\n                fallbackSrc && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                    src: fallbackSrc,\n                    alt: alt,\n                    className: className,\n                    style: {\n                        width: \"50%\",\n                        height: \"auto\",\n                        maxHeight: \"50%\"\n                    },\n                    onLoad: handleLoad,\n                    onError: ()=>{\n                        console.warn(\"Fallback image also failed to load\");\n                    }\n                }, void 0, false, {\n                    fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/components/StreamedImage.tsx\",\n                    lineNumber: 145,\n                    columnNumber: 11\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/components/StreamedImage.tsx\",\n            lineNumber: 124,\n            columnNumber: 7\n        }, undefined);\n    }\n    // Only render img tag if we have a valid imageSrc\n    if (!imageSrc) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: `streamed-image-no-src ${className}`,\n            style: {\n                width,\n                height,\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                backgroundColor: \"#f5f5f5\",\n                border: \"1px solid #ddd\",\n                color: \"#666\"\n            },\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                children: \"No image source\"\n            }, void 0, false, {\n                fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/components/StreamedImage.tsx\",\n                lineNumber: 176,\n                columnNumber: 9\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/components/StreamedImage.tsx\",\n            lineNumber: 163,\n            columnNumber: 7\n        }, undefined);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n        src: imageSrc,\n        alt: alt,\n        className: `streamed-image ${className}`,\n        style: {\n            width,\n            height\n        },\n        onLoad: ()=>{\n            console.log(\"Image loaded successfully in img tag:\", imageId, imageSrc);\n            handleLoad();\n        },\n        onError: (e)=>{\n            console.error(\"Image failed to load in img tag:\", {\n                imageId,\n                imageSrc,\n                error: e\n            });\n            const error = new Error(\"Image failed to load\");\n            setError(error.message);\n            handleError(error);\n        }\n    }, void 0, false, {\n        fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/components/StreamedImage.tsx\",\n        lineNumber: 182,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (StreamedImage);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QSxVQUFVLENBQUM7UUFDeENnQyxPQUFPO1lBQUU5QjtZQUFPQztRQUFPO1FBQ3ZCQyxRQUFRO1lBQ05rQixRQUFRQyxHQUFHLENBQUMseUNBQXlDeEIsU0FBU1E7WUFDOURRO1FBQ0Y7UUFDQVYsU0FBUyxDQUFDNEM7WUFDUjNCLFFBQVFYLEtBQUssQ0FBQyxvQ0FBb0M7Z0JBQ2hEWjtnQkFDQVE7Z0JBQ0FJLE9BQU9zQztZQUNUO1lBQ0EsTUFBTXRDLFFBQVEsSUFBSWUsTUFBTTtZQUN4QmQsU0FBU0QsTUFBTWlCLE9BQU87WUFDdEJaLFlBQVlMO1FBQ2Q7Ozs7OztBQUdOLEVBQUU7QUFFRixpRUFBZWIsYUFBYUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3NpZ25pbngvLi9jb21wb25lbnRzL1N0cmVhbWVkSW1hZ2UudHN4PzYwM2YiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VJbWFnZUNhY2hlIH0gZnJvbSAnLi4vY29udGV4dHMvSW1hZ2VDYWNoZUNvbnRleHQnO1xuXG5pbnRlcmZhY2UgU3RyZWFtZWRJbWFnZVByb3BzIHtcbiAgaW1hZ2VJZDogc3RyaW5nO1xuICBjbGFzc05hbWU/OiBzdHJpbmc7XG4gIGFsdD86IHN0cmluZztcbiAgd2lkdGg/OiBudW1iZXIgfCBzdHJpbmc7XG4gIGhlaWdodD86IG51bWJlciB8IHN0cmluZztcbiAgb25Mb2FkPzogKCkgPT4gdm9pZDtcbiAgb25FcnJvcj86IChlcnJvcjogRXJyb3IpID0+IHZvaWQ7XG4gIGZhbGxiYWNrU3JjPzogc3RyaW5nO1xufVxuXG5leHBvcnQgY29uc3QgU3RyZWFtZWRJbWFnZTogUmVhY3QuRkM8U3RyZWFtZWRJbWFnZVByb3BzPiA9ICh7XG4gIGltYWdlSWQsXG4gIGNsYXNzTmFtZSA9ICcnLFxuICBhbHQgPSAnU3RyZWFtZWQgaW1hZ2UnLFxuICB3aWR0aCxcbiAgaGVpZ2h0LFxuICBvbkxvYWQsXG4gIG9uRXJyb3IsXG4gIGZhbGxiYWNrU3JjXG59KSA9PiB7XG4gIGNvbnN0IFtpbWFnZVNyYywgc2V0SW1hZ2VTcmNdID0gdXNlU3RhdGU8c3RyaW5nPignJyk7XG4gIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgeyBnZXRJbWFnZSB9ID0gdXNlSW1hZ2VDYWNoZSgpO1xuICBjb25zdCBhYm9ydENvbnRyb2xsZXJSZWYgPSB1c2VSZWY8QWJvcnRDb250cm9sbGVyIHwgbnVsbD4obnVsbCk7XG5cbiAgLy8gU3RhYmlsaXplIGNhbGxiYWNrIGZ1bmN0aW9ucyB0byBwcmV2ZW50IGluZmluaXRlIHJlLXJlbmRlcnNcbiAgY29uc3QgaGFuZGxlTG9hZCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAob25Mb2FkKSB7XG4gICAgICBvbkxvYWQoKTtcbiAgICB9XG4gIH0sIFtvbkxvYWRdKTtcblxuICBjb25zdCBoYW5kbGVFcnJvciA9IHVzZUNhbGxiYWNrKChlcnJvcjogRXJyb3IpID0+IHtcbiAgICBpZiAob25FcnJvcikge1xuICAgICAgb25FcnJvcihlcnJvcik7XG4gICAgfVxuICB9LCBbb25FcnJvcl0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGV0IGlzTW91bnRlZCA9IHRydWU7XG5cbiAgICBjb25zdCBsb2FkSW1hZ2UgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XG4gICAgICAgIHNldEVycm9yKG51bGwpO1xuXG4gICAgICAgIC8vIENyZWF0ZSBhYm9ydCBjb250cm9sbGVyIGZvciBjbGVhbnVwXG4gICAgICAgIGFib3J0Q29udHJvbGxlclJlZi5jdXJyZW50ID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuXG4gICAgICAgIC8vIEdldCBpbWFnZSBmcm9tIGNhY2hlICh0aGlzIHdpbGwgaGFuZGxlIGRlZHVwbGljYXRpb24pXG4gICAgICAgIGNvbnN0IG9iamVjdFVybCA9IGF3YWl0IGdldEltYWdlKGltYWdlSWQpO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFpc01vdW50ZWQpIHJldHVybjtcblxuICAgICAgICBzZXRJbWFnZVNyYyhvYmplY3RVcmwpO1xuICAgICAgICBjb25zb2xlLmxvZygnSW1hZ2VTcmMgc2V0IHRvOicsIG9iamVjdFVybCk7XG4gICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICAgIFxuICAgICAgICAvLyBBZGQgYSBzbWFsbCBkZWxheSB0byBlbnN1cmUgYmxvYiBVUkwgaXMgcHJvcGVybHkgcmVnaXN0ZXJlZFxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBpZiAoaXNNb3VudGVkKSB7XG4gICAgICAgICAgICBoYW5kbGVMb2FkKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCAxMDApO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGlmICghaXNNb3VudGVkKSByZXR1cm47XG4gICAgICAgIFxuICAgICAgICBjb25zdCBlcnJvciA9IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyIDogbmV3IEVycm9yKCdVbmtub3duIGVycm9yIG9jY3VycmVkJyk7XG4gICAgICAgIFxuICAgICAgICAvLyBQcm92aWRlIG1vcmUgc3BlY2lmaWMgZXJyb3IgbWVzc2FnZXNcbiAgICAgICAgbGV0IGVycm9yTWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U7XG4gICAgICAgIGlmIChlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCc0MDAnKSkge1xuICAgICAgICAgIGVycm9yTWVzc2FnZSA9IGBJbWFnZSBub3QgZm91bmQgb3IgaW52YWxpZCBJRDogJHtpbWFnZUlkfWA7XG4gICAgICAgIH0gZWxzZSBpZiAoZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnNDA0JykpIHtcbiAgICAgICAgICBlcnJvck1lc3NhZ2UgPSBgSW1hZ2Ugbm90IGZvdW5kOiAke2ltYWdlSWR9YDtcbiAgICAgICAgfSBlbHNlIGlmIChlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCc1MDAnKSkge1xuICAgICAgICAgIGVycm9yTWVzc2FnZSA9IGBTZXJ2ZXIgZXJyb3Igd2hpbGUgbG9hZGluZyBpbWFnZTogJHtpbWFnZUlkfWA7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHNldEVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICAgIFxuICAgICAgICBoYW5kbGVFcnJvcihuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGxvYWRJbWFnZSgpO1xuXG4gICAgLy8gQ2xlYW51cCBmdW5jdGlvblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpc01vdW50ZWQgPSBmYWxzZTtcbiAgICAgIGlmIChhYm9ydENvbnRyb2xsZXJSZWYuY3VycmVudCkge1xuICAgICAgICBhYm9ydENvbnRyb2xsZXJSZWYuY3VycmVudC5hYm9ydCgpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtpbWFnZUlkLCBnZXRJbWFnZSwgaGFuZGxlTG9hZCwgaGFuZGxlRXJyb3JdKTtcblxuICBpZiAoaXNMb2FkaW5nKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgXG4gICAgICAgIGNsYXNzTmFtZT17YHN0cmVhbWVkLWltYWdlLWxvYWRpbmcgJHtjbGFzc05hbWV9YH1cbiAgICAgICAgc3R5bGU9e3sgXG4gICAgICAgICAgd2lkdGgsIFxuICAgICAgICAgIGhlaWdodCwgXG4gICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLCBcbiAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJywgXG4gICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNmNWY1ZjUnLFxuICAgICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCAjZGRkJ1xuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICA8ZGl2PkxvYWRpbmcuLi48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBpZiAoZXJyb3IpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBcbiAgICAgICAgY2xhc3NOYW1lPXtgc3RyZWFtZWQtaW1hZ2UtZXJyb3IgJHtjbGFzc05hbWV9YH1cbiAgICAgICAgc3R5bGU9e3sgXG4gICAgICAgICAgd2lkdGgsIFxuICAgICAgICAgIGhlaWdodCwgXG4gICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLCBcbiAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJywgXG4gICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNmZmY1ZjUnLFxuICAgICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCAjZmVkN2Q3JyxcbiAgICAgICAgICBjb2xvcjogJyNjNTMwMzAnLFxuICAgICAgICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxuICAgICAgICAgIHBhZGRpbmc6ICcxNnB4JyxcbiAgICAgICAgICB0ZXh0QWxpZ246ICdjZW50ZXInXG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiAnOHB4JyB9fT5cbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGZvbnRXZWlnaHQ6ICc2MDAnLCBtYXJnaW5Cb3R0b206ICc0cHgnIH19PkZhaWxlZCB0byBsb2FkIGltYWdlPC9kaXY+XG4gICAgICAgICAgPGRpdiBzdHlsZT17eyBmb250U2l6ZTogJzEycHgnLCBjb2xvcjogJyNjNTMwMzAnIH19PntlcnJvcn08L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHtmYWxsYmFja1NyYyAmJiAoXG4gICAgICAgICAgPGltZyBcbiAgICAgICAgICAgIHNyYz17ZmFsbGJhY2tTcmN9IFxuICAgICAgICAgICAgYWx0PXthbHR9IFxuICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWV9XG4gICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogJzUwJScsIGhlaWdodDogJ2F1dG8nLCBtYXhIZWlnaHQ6ICc1MCUnIH19XG4gICAgICAgICAgICBvbkxvYWQ9e2hhbmRsZUxvYWR9XG4gICAgICAgICAgICBvbkVycm9yPXsoKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnNvbGUud2FybignRmFsbGJhY2sgaW1hZ2UgYWxzbyBmYWlsZWQgdG8gbG9hZCcpO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAvPlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIC8vIE9ubHkgcmVuZGVyIGltZyB0YWcgaWYgd2UgaGF2ZSBhIHZhbGlkIGltYWdlU3JjXG4gIGlmICghaW1hZ2VTcmMpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBcbiAgICAgICAgY2xhc3NOYW1lPXtgc3RyZWFtZWQtaW1hZ2Utbm8tc3JjICR7Y2xhc3NOYW1lfWB9XG4gICAgICAgIHN0eWxlPXt7IFxuICAgICAgICAgIHdpZHRoLCBcbiAgICAgICAgICBoZWlnaHQsIFxuICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JywgXG4gICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsIFxuICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZjVmNWY1JyxcbiAgICAgICAgICBib3JkZXI6ICcxcHggc29saWQgI2RkZCcsXG4gICAgICAgICAgY29sb3I6ICcjNjY2J1xuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICA8ZGl2Pk5vIGltYWdlIHNvdXJjZTwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGltZ1xuICAgICAgc3JjPXtpbWFnZVNyY31cbiAgICAgIGFsdD17YWx0fVxuICAgICAgY2xhc3NOYW1lPXtgc3RyZWFtZWQtaW1hZ2UgJHtjbGFzc05hbWV9YH1cbiAgICAgIHN0eWxlPXt7IHdpZHRoLCBoZWlnaHQgfX1cbiAgICAgIG9uTG9hZD17KCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnSW1hZ2UgbG9hZGVkIHN1Y2Nlc3NmdWxseSBpbiBpbWcgdGFnOicsIGltYWdlSWQsIGltYWdlU3JjKTtcbiAgICAgICAgaGFuZGxlTG9hZCgpO1xuICAgICAgfX1cbiAgICAgIG9uRXJyb3I9eyhlKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ltYWdlIGZhaWxlZCB0byBsb2FkIGluIGltZyB0YWc6Jywge1xuICAgICAgICAgIGltYWdlSWQsXG4gICAgICAgICAgaW1hZ2VTcmMsXG4gICAgICAgICAgZXJyb3I6IGVcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKCdJbWFnZSBmYWlsZWQgdG8gbG9hZCcpO1xuICAgICAgICBzZXRFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgaGFuZGxlRXJyb3IoZXJyb3IpO1xuICAgICAgfX1cbiAgICAvPlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgU3RyZWFtZWRJbWFnZTsgIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VDYWxsYmFjayIsInVzZUltYWdlQ2FjaGUiLCJTdHJlYW1lZEltYWdlIiwiaW1hZ2VJZCIsImNsYXNzTmFtZSIsImFsdCIsIndpZHRoIiwiaGVpZ2h0Iiwib25Mb2FkIiwib25FcnJvciIsImZhbGxiYWNrU3JjIiwiaW1hZ2VTcmMiLCJzZXRJbWFnZVNyYyIsImlzTG9hZGluZyIsInNldElzTG9hZGluZyIsImVycm9yIiwic2V0RXJyb3IiLCJnZXRJbWFnZSIsImFib3J0Q29udHJvbGxlclJlZiIsImhhbmRsZUxvYWQiLCJoYW5kbGVFcnJvciIsImlzTW91bnRlZCIsImxvYWRJbWFnZSIsImN1cnJlbnQiLCJBYm9ydENvbnRyb2xsZXIiLCJvYmplY3RVcmwiLCJjb25zb2xlIiwibG9nIiwic2V0VGltZW91dCIsImVyciIsIkVycm9yIiwiZXJyb3JNZXNzYWdlIiwibWVzc2FnZSIsImluY2x1ZGVzIiwiYWJvcnQiLCJkaXYiLCJzdHlsZSIsImRpc3BsYXkiLCJhbGlnbkl0ZW1zIiwianVzdGlmeUNvbnRlbnQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJib3JkZXIiLCJjb2xvciIsImZsZXhEaXJlY3Rpb24iLCJwYWRkaW5nIiwidGV4dEFsaWduIiwibWFyZ2luQm90dG9tIiwiZm9udFdlaWdodCIsImZvbnRTaXplIiwiaW1nIiwic3JjIiwibWF4SGVpZ2h0Iiwid2FybiIsImUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./components/StreamedImage.tsx\n");

/***/ }),

/***/ "./contexts/ImageCacheContext.tsx":
/*!****************************************!*\
  !*** ./contexts/ImageCacheContext.tsx ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ImageCacheProvider: () => (/* binding */ ImageCacheProvider),\n/* harmony export */   useImageCache: () => (/* binding */ useImageCache)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils_indexedDB__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/indexedDB */ \"./utils/indexedDB.ts\");\n/* harmony import */ var _utils_mockImage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/mockImage */ \"./utils/mockImage.ts\");\n\n\n\n\nconst ImageCacheContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(null);\nconst ImageCacheProvider = ({ children, maxCacheSize = 50, cacheExpiryMs = 5 * 60 * 1000 // 5 minutes\n })=>{\n    const [cache, setCache] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(new Map());\n    const pendingRequests = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(new Map());\n    const cacheRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(new Map());\n    // Keep cacheRef in sync with cache state\n    react__WEBPACK_IMPORTED_MODULE_1___default().useEffect(()=>{\n        cacheRef.current = cache;\n    }, [\n        cache\n    ]);\n    const cleanupExpiredItems = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        const now = Date.now();\n        setCache((prevCache)=>{\n            const newCache = new Map(prevCache);\n            const entries = Array.from(newCache.entries());\n            for (const [key, item] of entries){\n                if (now - item.timestamp > cacheExpiryMs) {\n                    URL.revokeObjectURL(item.objectUrl);\n                    newCache.delete(key);\n                }\n            }\n            return newCache;\n        });\n        // Also cleanup IndexedDB\n        try {\n            await _utils_indexedDB__WEBPACK_IMPORTED_MODULE_2__[\"default\"].cleanupExpired(cacheExpiryMs);\n        } catch (error) {\n            console.warn(\"Failed to cleanup IndexedDB:\", error);\n        }\n    }, [\n        cacheExpiryMs\n    ]);\n    const getImage = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (imageId)=>{\n        // Check if we have a cached version using ref to avoid dependency\n        const cachedItem = cacheRef.current.get(imageId);\n        if (cachedItem) {\n            const now = Date.now();\n            if (now - cachedItem.timestamp < cacheExpiryMs) {\n                return cachedItem.objectUrl;\n            } else {\n                // Remove expired item\n                URL.revokeObjectURL(cachedItem.objectUrl);\n                setCache((prev)=>{\n                    const newCache = new Map(prev);\n                    newCache.delete(imageId);\n                    return newCache;\n                });\n            }\n        }\n        // Check if there's already a pending request for this imageId\n        const pendingRequest = pendingRequests.current.get(imageId);\n        if (pendingRequest) {\n            return pendingRequest;\n        }\n        // Create new request\n        const requestPromise = (async ()=>{\n            try {\n                // First, try to get from IndexedDB\n                const dbCachedImage = await _utils_indexedDB__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getImage(imageId);\n                if (dbCachedImage) {\n                    const now = Date.now();\n                    if (now - dbCachedImage.timestamp < cacheExpiryMs) {\n                        // Create object URL from IndexedDB blob\n                        const objectUrl = URL.createObjectURL(dbCachedImage.blob);\n                        // Add to memory cache\n                        setCache((prev)=>{\n                            const newCache = new Map(prev);\n                            newCache.set(imageId, {\n                                blob: dbCachedImage.blob,\n                                objectUrl,\n                                timestamp: dbCachedImage.timestamp\n                            });\n                            return newCache;\n                        });\n                        return objectUrl;\n                    } else {\n                        // Remove expired item from IndexedDB\n                        await _utils_indexedDB__WEBPACK_IMPORTED_MODULE_2__[\"default\"].removeImage(imageId);\n                    }\n                }\n                // If not in IndexedDB or expired, fetch from API\n                console.log(\"fetching image\", imageId);\n                const requestTimestamp = Date.now();\n                // Retry logic for network issues\n                let lastError;\n                for(let attempt = 1; attempt <= 3; attempt++){\n                    try {\n                        console.log(`Attempt ${attempt} to fetch image`);\n                        // Try different fetch strategies\n                        let response;\n                        if (attempt === 1) {\n                            // First attempt: Normal fetch\n                            response = await fetch(`http://localhost:3008/public/me/ekyc/image/${imageId}?t=${requestTimestamp}`, {\n                                method: \"GET\",\n                                headers: {\n                                    \"Accept\": \"image/*\",\n                                    \"Cache-Control\": \"no-cache, no-store, must-revalidate\",\n                                    \"Pragma\": \"no-cache\",\n                                    \"Expires\": \"0\"\n                                }\n                            });\n                        } else if (attempt === 2) {\n                            // Second attempt: Without cache headers\n                            response = await fetch(`http://localhost:3008/public/me/ekyc/image/${imageId}?t=${requestTimestamp}`, {\n                                method: \"GET\",\n                                headers: {\n                                    \"Accept\": \"image/*\"\n                                }\n                            });\n                        } else {\n                            // Third attempt: With different Accept header\n                            response = await fetch(`http://localhost:3008/public/me/ekyc/image/${imageId}?t=${requestTimestamp}`, {\n                                method: \"GET\",\n                                headers: {\n                                    \"Accept\": \"image/jpeg,image/png,image/*;q=0.9,*/*;q=0.8\"\n                                }\n                            });\n                        }\n                        console.log(\"Response status:\", response.status, response.statusText);\n                        console.log(\"Response headers:\", Object.fromEntries(response.headers.entries()));\n                        console.log(\"Response type:\", response.type);\n                        console.log(\"Response bodyUsed:\", response.bodyUsed);\n                        // Check if response is actually an image\n                        const contentType = response.headers.get(\"content-type\");\n                        console.log(\"Content-Type:\", contentType);\n                        // For streaming responses, Content-Type might not be available immediately\n                        // We'll validate the blob type instead\n                        if (contentType && !contentType.startsWith(\"image/\")) {\n                            console.warn(\"Response is not an image, content-type:\", contentType);\n                            // Try to read as text to see what we actually got\n                            const textResponse = await response.text();\n                            console.error(\"Response body (first 200 chars):\", textResponse.substring(0, 200));\n                            throw new Error(`Server returned non-image content: ${contentType}`);\n                        }\n                        if (!response.ok) {\n                            // If backend is not available, try to create a mock image for testing\n                            if (response.status === 404 || response.status === 400) {\n                                console.log(\"Backend returned error, creating mock image for testing\");\n                                const mockBlob = await (0,_utils_mockImage__WEBPACK_IMPORTED_MODULE_3__.createMockImage)(400, 300, `Mock: ${imageId}`);\n                                const objectUrl = URL.createObjectURL(mockBlob);\n                                const timestamp = Date.now();\n                                // Add to memory cache\n                                setCache((prev)=>{\n                                    const newCache = new Map(prev);\n                                    newCache.set(imageId, {\n                                        blob: mockBlob,\n                                        objectUrl,\n                                        timestamp\n                                    });\n                                    return newCache;\n                                });\n                                return objectUrl;\n                            }\n                            throw new Error(`Failed to load image: ${response.status} ${response.statusText}`);\n                        }\n                        const blob = await response.blob();\n                        console.log(\"Blob created:\", {\n                            size: blob.size,\n                            type: blob.type\n                        });\n                        // Validate that we have a valid image blob\n                        if (!blob.type.startsWith(\"image/\")) {\n                            console.warn(\"Blob is not an image type:\", blob.type);\n                            throw new Error(`Invalid image type: ${blob.type}`);\n                        }\n                        if (blob.size === 0) {\n                            console.warn(\"Blob is empty\");\n                            throw new Error(\"Empty image data\");\n                        }\n                        // Test if blob can be read as image\n                        try {\n                            const testUrl = URL.createObjectURL(blob);\n                            const testImg = new Image();\n                            await new Promise((resolve, reject)=>{\n                                testImg.onload = ()=>{\n                                    console.log(\"Blob validation successful:\", {\n                                        width: testImg.width,\n                                        height: testImg.height\n                                    });\n                                    URL.revokeObjectURL(testUrl);\n                                    resolve(true);\n                                };\n                                testImg.onerror = ()=>{\n                                    console.error(\"Blob validation failed - not a valid image\");\n                                    URL.revokeObjectURL(testUrl);\n                                    reject(new Error(\"Blob is not a valid image\"));\n                                };\n                                testImg.src = testUrl;\n                            });\n                        } catch (error) {\n                            console.error(\"Blob validation error:\", error);\n                            throw new Error(\"Invalid image data from server\");\n                        }\n                        const objectUrl = URL.createObjectURL(blob);\n                        console.log(\"Object URL created:\", objectUrl);\n                        const timestamp = Date.now();\n                        // Add to memory cache\n                        setCache((prev)=>{\n                            const newCache = new Map(prev);\n                            // Remove oldest items if cache is full\n                            if (newCache.size >= maxCacheSize) {\n                                const oldestKey = newCache.keys().next().value;\n                                const oldestItem = newCache.get(oldestKey);\n                                if (oldestItem) {\n                                    URL.revokeObjectURL(oldestItem.objectUrl);\n                                    newCache.delete(oldestKey);\n                                }\n                            }\n                            newCache.set(imageId, {\n                                blob,\n                                objectUrl,\n                                timestamp\n                            });\n                            return newCache;\n                        });\n                        // Also save to IndexedDB for persistence\n                        try {\n                            await _utils_indexedDB__WEBPACK_IMPORTED_MODULE_2__[\"default\"].setImage(imageId, blob, timestamp);\n                        } catch (error) {\n                            console.warn(\"Failed to save to IndexedDB:\", error);\n                        }\n                        return objectUrl;\n                    } catch (error) {\n                        lastError = error;\n                        console.warn(`Attempt ${attempt} failed:`, error.message);\n                        if (attempt < 3) {\n                            // Wait before retry\n                            await new Promise((resolve)=>setTimeout(resolve, 1000 * attempt));\n                        }\n                    }\n                }\n                // All attempts failed\n                console.error(\"All fetch attempts failed:\", lastError);\n                // Fallback to mock image for testing\n                console.log(\"Using mock image as fallback\");\n                const mockBlob = await (0,_utils_mockImage__WEBPACK_IMPORTED_MODULE_3__.createMockImage)(400, 300, `Mock: ${imageId}`);\n                const objectUrl = URL.createObjectURL(mockBlob);\n                const timestamp = Date.now();\n                // Add to memory cache\n                setCache((prev)=>{\n                    const newCache = new Map(prev);\n                    newCache.set(imageId, {\n                        blob: mockBlob,\n                        objectUrl,\n                        timestamp\n                    });\n                    return newCache;\n                });\n                return objectUrl;\n            } finally{\n                // Remove from pending requests\n                pendingRequests.current.delete(imageId);\n            }\n        })();\n        // Store pending request\n        pendingRequests.current.set(imageId, requestPromise);\n        return requestPromise;\n    }, [\n        cacheExpiryMs,\n        maxCacheSize\n    ]); // Removed cache from dependencies\n    const clearCache = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        // Clean up all object URLs\n        const items = Array.from(cache.values());\n        for (const item of items){\n            URL.revokeObjectURL(item.objectUrl);\n        }\n        setCache(new Map());\n        // Also clear pending requests\n        pendingRequests.current.clear();\n        // Clear IndexedDB\n        try {\n            await _utils_indexedDB__WEBPACK_IMPORTED_MODULE_2__[\"default\"].clearAll();\n        } catch (error) {\n            console.warn(\"Failed to clear IndexedDB:\", error);\n        }\n    }, []); // Removed cache dependency\n    const removeFromCache = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (imageId)=>{\n        const item = cache.get(imageId);\n        if (item) {\n            URL.revokeObjectURL(item.objectUrl);\n            setCache((prev)=>{\n                const newCache = new Map(prev);\n                newCache.delete(imageId);\n                return newCache;\n            });\n        }\n        // Also remove from IndexedDB\n        try {\n            await _utils_indexedDB__WEBPACK_IMPORTED_MODULE_2__[\"default\"].removeImage(imageId);\n        } catch (error) {\n            console.warn(\"Failed to remove from IndexedDB:\", error);\n        }\n    }, []); // Removed cache dependency\n    const getCacheStats = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        try {\n            return await _utils_indexedDB__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getCacheStats();\n        } catch (error) {\n            console.warn(\"Failed to get cache stats:\", error);\n            return {\n                count: 0,\n                totalSize: 0\n            };\n        }\n    }, []);\n    // Cleanup expired items periodically\n    react__WEBPACK_IMPORTED_MODULE_1___default().useEffect(()=>{\n        const interval = setInterval(cleanupExpiredItems, 60000); // Check every minute\n        return ()=>clearInterval(interval);\n    }, [\n        cleanupExpiredItems\n    ]);\n    // Cleanup on unmount\n    react__WEBPACK_IMPORTED_MODULE_1___default().useEffect(()=>{\n        return ()=>{\n            clearCache();\n        };\n    }, [\n        clearCache\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ImageCacheContext.Provider, {\n        value: {\n            getImage,\n            clearCache,\n            removeFromCache,\n            getCacheStats\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/contexts/ImageCacheContext.tsx\",\n        lineNumber: 380,\n        columnNumber: 5\n    }, undefined);\n};\nconst useImageCache = ()=>{\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ImageCacheContext);\n    if (!context) {\n        throw new Error(\"useImageCache must be used within an ImageCacheProvider\");\n    }\n    return context;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb250ZXh0cy9JbWFnZUNhY2hlQ29udGV4dC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQXdGO0FBQzFDO0FBQ087QUFlckQsTUFBTVEsa0NBQW9CUCxvREFBYUEsQ0FBK0I7QUFRL0QsTUFBTVEscUJBQXdELENBQUMsRUFDcEVDLFFBQVEsRUFDUkMsZUFBZSxFQUFFLEVBQ2pCQyxnQkFBZ0IsSUFBSSxLQUFLLEtBQUssWUFBWTtBQUFiLEVBQzlCO0lBQ0MsTUFBTSxDQUFDQyxPQUFPQyxTQUFTLEdBQUdYLCtDQUFRQSxDQUE4QixJQUFJWTtJQUNwRSxNQUFNQyxrQkFBa0JaLDZDQUFNQSxDQUErQixJQUFJVztJQUNqRSxNQUFNRSxXQUFXYiw2Q0FBTUEsQ0FBOEIsSUFBSVc7SUFFekQseUNBQXlDO0lBQ3pDZixzREFBZSxDQUFDO1FBQ2RpQixTQUFTRSxPQUFPLEdBQUdOO0lBQ3JCLEdBQUc7UUFBQ0E7S0FBTTtJQUVWLE1BQU1PLHNCQUFzQmYsa0RBQVdBLENBQUM7UUFDdEMsTUFBTWdCLE1BQU1DLEtBQUtELEdBQUc7UUFDcEJQLFNBQVNTLENBQUFBO1lBQ1AsTUFBTUMsV0FBVyxJQUFJVCxJQUFJUTtZQUN6QixNQUFNRSxVQUFVQyxNQUFNQyxJQUFJLENBQUNILFNBQVNDLE9BQU87WUFDM0MsS0FBSyxNQUFNLENBQUNHLEtBQUtDLEtBQUssSUFBSUosUUFBUztnQkFDakMsSUFBSUosTUFBTVEsS0FBS0MsU0FBUyxHQUFHbEIsZUFBZTtvQkFDeENtQixJQUFJQyxlQUFlLENBQUNILEtBQUtJLFNBQVM7b0JBQ2xDVCxTQUFTVSxNQUFNLENBQUNOO2dCQUNsQjtZQUNGO1lBQ0EsT0FBT0o7UUFDVDtRQUVBLHlCQUF5QjtRQUN6QixJQUFJO1lBQ0YsTUFBTWxCLHVFQUEyQixDQUFDTTtRQUNwQyxFQUFFLE9BQU93QixPQUFPO1lBQ2RDLFFBQVFDLElBQUksQ0FBQyxnQ0FBZ0NGO1FBQy9DO0lBQ0YsR0FBRztRQUFDeEI7S0FBYztJQUVsQixNQUFNMkIsV0FBV2xDLGtEQUFXQSxDQUFDLE9BQU9tQztRQUNsQyxrRUFBa0U7UUFDbEUsTUFBTUMsYUFBYXhCLFNBQVNFLE9BQU8sQ0FBQ3VCLEdBQUcsQ0FBQ0Y7UUFDeEMsSUFBSUMsWUFBWTtZQUNkLE1BQU1wQixNQUFNQyxLQUFLRCxHQUFHO1lBQ3BCLElBQUlBLE1BQU1vQixXQUFXWCxTQUFTLEdBQUdsQixlQUFlO2dCQUM5QyxPQUFPNkIsV0FBV1IsU0FBUztZQUM3QixPQUFPO2dCQUNMLHNCQUFzQjtnQkFDdEJGLElBQUlDLGVBQWUsQ0FBQ1MsV0FBV1IsU0FBUztnQkFDeENuQixTQUFTNkIsQ0FBQUE7b0JBQ1AsTUFBTW5CLFdBQVcsSUFBSVQsSUFBSTRCO29CQUN6Qm5CLFNBQVNVLE1BQU0sQ0FBQ007b0JBQ2hCLE9BQU9oQjtnQkFDVDtZQUNGO1FBQ0Y7UUFFQSw4REFBOEQ7UUFDOUQsTUFBTW9CLGlCQUFpQjVCLGdCQUFnQkcsT0FBTyxDQUFDdUIsR0FBRyxDQUFDRjtRQUNuRCxJQUFJSSxnQkFBZ0I7WUFDbEIsT0FBT0E7UUFDVDtRQUVBLHFCQUFxQjtRQUNyQixNQUFNQyxpQkFBaUIsQ0FBQztZQUN0QixJQUFJO2dCQUNGLG1DQUFtQztnQkFDbkMsTUFBTUMsZ0JBQWdCLE1BQU14QyxpRUFBcUIsQ0FBQ2tDO2dCQUNsRCxJQUFJTSxlQUFlO29CQUNqQixNQUFNekIsTUFBTUMsS0FBS0QsR0FBRztvQkFDcEIsSUFBSUEsTUFBTXlCLGNBQWNoQixTQUFTLEdBQUdsQixlQUFlO3dCQUNqRCx3Q0FBd0M7d0JBQ3hDLE1BQU1xQixZQUFZRixJQUFJZ0IsZUFBZSxDQUFDRCxjQUFjRSxJQUFJO3dCQUV4RCxzQkFBc0I7d0JBQ3RCbEMsU0FBUzZCLENBQUFBOzRCQUNQLE1BQU1uQixXQUFXLElBQUlULElBQUk0Qjs0QkFDekJuQixTQUFTeUIsR0FBRyxDQUFDVCxTQUFTO2dDQUNwQlEsTUFBTUYsY0FBY0UsSUFBSTtnQ0FDeEJmO2dDQUNBSCxXQUFXZ0IsY0FBY2hCLFNBQVM7NEJBQ3BDOzRCQUNBLE9BQU9OO3dCQUNUO3dCQUVBLE9BQU9TO29CQUNULE9BQU87d0JBQ0wscUNBQXFDO3dCQUNyQyxNQUFNM0Isb0VBQXdCLENBQUNrQztvQkFDakM7Z0JBQ0Y7Z0JBRUEsaURBQWlEO2dCQUNqREgsUUFBUWMsR0FBRyxDQUFDLGtCQUFrQlg7Z0JBQzlCLE1BQU1ZLG1CQUFtQjlCLEtBQUtELEdBQUc7Z0JBRWpDLGlDQUFpQztnQkFDakMsSUFBSWdDO2dCQUNKLElBQUssSUFBSUMsVUFBVSxHQUFHQSxXQUFXLEdBQUdBLFVBQVc7b0JBQzdDLElBQUk7d0JBQ0ZqQixRQUFRYyxHQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUVHLFFBQVEsZUFBZSxDQUFDO3dCQUUvQyxpQ0FBaUM7d0JBQ2pDLElBQUlDO3dCQUNKLElBQUlELFlBQVksR0FBRzs0QkFDakIsOEJBQThCOzRCQUM5QkMsV0FBVyxNQUFNQyxNQUFNLENBQUMsMkNBQTJDLEVBQUVoQixRQUFRLEdBQUcsRUFBRVksaUJBQWlCLENBQUMsRUFBRTtnQ0FDcEdLLFFBQVE7Z0NBQ1JDLFNBQVM7b0NBQ1AsVUFBVTtvQ0FDVixpQkFBaUI7b0NBQ2pCLFVBQVU7b0NBQ1YsV0FBVztnQ0FDYjs0QkFDRjt3QkFDRixPQUFPLElBQUlKLFlBQVksR0FBRzs0QkFDeEIsd0NBQXdDOzRCQUN4Q0MsV0FBVyxNQUFNQyxNQUFNLENBQUMsMkNBQTJDLEVBQUVoQixRQUFRLEdBQUcsRUFBRVksaUJBQWlCLENBQUMsRUFBRTtnQ0FDcEdLLFFBQVE7Z0NBQ1JDLFNBQVM7b0NBQ1AsVUFBVTtnQ0FDWjs0QkFDRjt3QkFDRixPQUFPOzRCQUNMLDhDQUE4Qzs0QkFDOUNILFdBQVcsTUFBTUMsTUFBTSxDQUFDLDJDQUEyQyxFQUFFaEIsUUFBUSxHQUFHLEVBQUVZLGlCQUFpQixDQUFDLEVBQUU7Z0NBQ3BHSyxRQUFRO2dDQUNSQyxTQUFTO29DQUNQLFVBQVU7Z0NBQ1o7NEJBQ0Y7d0JBQ0Y7d0JBRUFyQixRQUFRYyxHQUFHLENBQUMsb0JBQW9CSSxTQUFTSSxNQUFNLEVBQUVKLFNBQVNLLFVBQVU7d0JBQ3BFdkIsUUFBUWMsR0FBRyxDQUFDLHFCQUFxQlUsT0FBT0MsV0FBVyxDQUFDUCxTQUFTRyxPQUFPLENBQUNqQyxPQUFPO3dCQUM1RVksUUFBUWMsR0FBRyxDQUFDLGtCQUFrQkksU0FBU1EsSUFBSTt3QkFDM0MxQixRQUFRYyxHQUFHLENBQUMsc0JBQXNCSSxTQUFTUyxRQUFRO3dCQUVuRCx5Q0FBeUM7d0JBQ3pDLE1BQU1DLGNBQWNWLFNBQVNHLE9BQU8sQ0FBQ2hCLEdBQUcsQ0FBQzt3QkFDekNMLFFBQVFjLEdBQUcsQ0FBQyxpQkFBaUJjO3dCQUU3QiwyRUFBMkU7d0JBQzNFLHVDQUF1Qzt3QkFDdkMsSUFBSUEsZUFBZSxDQUFDQSxZQUFZQyxVQUFVLENBQUMsV0FBVzs0QkFDcEQ3QixRQUFRQyxJQUFJLENBQUMsMkNBQTJDMkI7NEJBQ3hELGtEQUFrRDs0QkFDbEQsTUFBTUUsZUFBZSxNQUFNWixTQUFTYSxJQUFJOzRCQUN4Qy9CLFFBQVFELEtBQUssQ0FBQyxvQ0FBb0MrQixhQUFhRSxTQUFTLENBQUMsR0FBRzs0QkFDNUUsTUFBTSxJQUFJQyxNQUFNLENBQUMsbUNBQW1DLEVBQUVMLFlBQVksQ0FBQzt3QkFDckU7d0JBRUEsSUFBSSxDQUFDVixTQUFTZ0IsRUFBRSxFQUFFOzRCQUNoQixzRUFBc0U7NEJBQ3RFLElBQUloQixTQUFTSSxNQUFNLEtBQUssT0FBT0osU0FBU0ksTUFBTSxLQUFLLEtBQUs7Z0NBQ3REdEIsUUFBUWMsR0FBRyxDQUFDO2dDQUNaLE1BQU1xQixXQUFXLE1BQU1qRSxpRUFBZUEsQ0FBQyxLQUFLLEtBQUssQ0FBQyxNQUFNLEVBQUVpQyxRQUFRLENBQUM7Z0NBQ25FLE1BQU1QLFlBQVlGLElBQUlnQixlQUFlLENBQUN5QjtnQ0FDdEMsTUFBTTFDLFlBQVlSLEtBQUtELEdBQUc7Z0NBRTFCLHNCQUFzQjtnQ0FDdEJQLFNBQVM2QixDQUFBQTtvQ0FDUCxNQUFNbkIsV0FBVyxJQUFJVCxJQUFJNEI7b0NBQ3pCbkIsU0FBU3lCLEdBQUcsQ0FBQ1QsU0FBUzt3Q0FDcEJRLE1BQU13Qjt3Q0FDTnZDO3dDQUNBSDtvQ0FDRjtvQ0FDQSxPQUFPTjtnQ0FDVDtnQ0FFQSxPQUFPUzs0QkFDVDs0QkFDQSxNQUFNLElBQUlxQyxNQUFNLENBQUMsc0JBQXNCLEVBQUVmLFNBQVNJLE1BQU0sQ0FBQyxDQUFDLEVBQUVKLFNBQVNLLFVBQVUsQ0FBQyxDQUFDO3dCQUNuRjt3QkFFQSxNQUFNWixPQUFPLE1BQU1PLFNBQVNQLElBQUk7d0JBQ2hDWCxRQUFRYyxHQUFHLENBQUMsaUJBQWlCOzRCQUMzQnNCLE1BQU16QixLQUFLeUIsSUFBSTs0QkFDZlYsTUFBTWYsS0FBS2UsSUFBSTt3QkFDakI7d0JBRUEsMkNBQTJDO3dCQUMzQyxJQUFJLENBQUNmLEtBQUtlLElBQUksQ0FBQ0csVUFBVSxDQUFDLFdBQVc7NEJBQ25DN0IsUUFBUUMsSUFBSSxDQUFDLDhCQUE4QlUsS0FBS2UsSUFBSTs0QkFDcEQsTUFBTSxJQUFJTyxNQUFNLENBQUMsb0JBQW9CLEVBQUV0QixLQUFLZSxJQUFJLENBQUMsQ0FBQzt3QkFDcEQ7d0JBRUEsSUFBSWYsS0FBS3lCLElBQUksS0FBSyxHQUFHOzRCQUNuQnBDLFFBQVFDLElBQUksQ0FBQzs0QkFDYixNQUFNLElBQUlnQyxNQUFNO3dCQUNsQjt3QkFFQSxvQ0FBb0M7d0JBQ3BDLElBQUk7NEJBQ0YsTUFBTUksVUFBVTNDLElBQUlnQixlQUFlLENBQUNDOzRCQUNwQyxNQUFNMkIsVUFBVSxJQUFJQzs0QkFDcEIsTUFBTSxJQUFJQyxRQUFRLENBQUNDLFNBQVNDO2dDQUMxQkosUUFBUUssTUFBTSxHQUFHO29DQUNmM0MsUUFBUWMsR0FBRyxDQUFDLCtCQUErQjt3Q0FDekM4QixPQUFPTixRQUFRTSxLQUFLO3dDQUNwQkMsUUFBUVAsUUFBUU8sTUFBTTtvQ0FDeEI7b0NBQ0FuRCxJQUFJQyxlQUFlLENBQUMwQztvQ0FDcEJJLFFBQVE7Z0NBQ1Y7Z0NBQ0FILFFBQVFRLE9BQU8sR0FBRztvQ0FDaEI5QyxRQUFRRCxLQUFLLENBQUM7b0NBQ2RMLElBQUlDLGVBQWUsQ0FBQzBDO29DQUNwQkssT0FBTyxJQUFJVCxNQUFNO2dDQUNuQjtnQ0FDQUssUUFBUVMsR0FBRyxHQUFHVjs0QkFDaEI7d0JBQ0YsRUFBRSxPQUFPdEMsT0FBTzs0QkFDZEMsUUFBUUQsS0FBSyxDQUFDLDBCQUEwQkE7NEJBQ3hDLE1BQU0sSUFBSWtDLE1BQU07d0JBQ2xCO3dCQUVBLE1BQU1yQyxZQUFZRixJQUFJZ0IsZUFBZSxDQUFDQzt3QkFDdENYLFFBQVFjLEdBQUcsQ0FBQyx1QkFBdUJsQjt3QkFDbkMsTUFBTUgsWUFBWVIsS0FBS0QsR0FBRzt3QkFFMUIsc0JBQXNCO3dCQUN0QlAsU0FBUzZCLENBQUFBOzRCQUNQLE1BQU1uQixXQUFXLElBQUlULElBQUk0Qjs0QkFFekIsdUNBQXVDOzRCQUN2QyxJQUFJbkIsU0FBU2lELElBQUksSUFBSTlELGNBQWM7Z0NBQ2pDLE1BQU0wRSxZQUFZN0QsU0FBUzhELElBQUksR0FBR0MsSUFBSSxHQUFHQyxLQUFLO2dDQUM5QyxNQUFNQyxhQUFhakUsU0FBU2tCLEdBQUcsQ0FBQzJDO2dDQUNoQyxJQUFJSSxZQUFZO29DQUNkMUQsSUFBSUMsZUFBZSxDQUFDeUQsV0FBV3hELFNBQVM7b0NBQ3hDVCxTQUFTVSxNQUFNLENBQUNtRDtnQ0FDbEI7NEJBQ0Y7NEJBRUE3RCxTQUFTeUIsR0FBRyxDQUFDVCxTQUFTO2dDQUNwQlE7Z0NBQ0FmO2dDQUNBSDs0QkFDRjs0QkFFQSxPQUFPTjt3QkFDVDt3QkFFQSx5Q0FBeUM7d0JBQ3pDLElBQUk7NEJBQ0YsTUFBTWxCLGlFQUFxQixDQUFDa0MsU0FBU1EsTUFBTWxCO3dCQUM3QyxFQUFFLE9BQU9NLE9BQU87NEJBQ2RDLFFBQVFDLElBQUksQ0FBQyxnQ0FBZ0NGO3dCQUMvQzt3QkFFQSxPQUFPSDtvQkFDVCxFQUFFLE9BQU9HLE9BQU87d0JBQ2RpQixZQUFZakI7d0JBQ1pDLFFBQVFDLElBQUksQ0FBQyxDQUFDLFFBQVEsRUFBRWdCLFFBQVEsUUFBUSxDQUFDLEVBQUVsQixNQUFNdUQsT0FBTzt3QkFFeEQsSUFBSXJDLFVBQVUsR0FBRzs0QkFDZixvQkFBb0I7NEJBQ3BCLE1BQU0sSUFBSXVCLFFBQVFDLENBQUFBLFVBQVdjLFdBQVdkLFNBQVMsT0FBT3hCO3dCQUMxRDtvQkFDRjtnQkFDRjtnQkFFQSxzQkFBc0I7Z0JBQ3RCakIsUUFBUUQsS0FBSyxDQUFDLDhCQUE4QmlCO2dCQUU1QyxxQ0FBcUM7Z0JBQ3JDaEIsUUFBUWMsR0FBRyxDQUFDO2dCQUNaLE1BQU1xQixXQUFXLE1BQU1qRSxpRUFBZUEsQ0FBQyxLQUFLLEtBQUssQ0FBQyxNQUFNLEVBQUVpQyxRQUFRLENBQUM7Z0JBQ25FLE1BQU1QLFlBQVlGLElBQUlnQixlQUFlLENBQUN5QjtnQkFDdEMsTUFBTTFDLFlBQVlSLEtBQUtELEdBQUc7Z0JBRTFCLHNCQUFzQjtnQkFDdEJQLFNBQVM2QixDQUFBQTtvQkFDUCxNQUFNbkIsV0FBVyxJQUFJVCxJQUFJNEI7b0JBQ3pCbkIsU0FBU3lCLEdBQUcsQ0FBQ1QsU0FBUzt3QkFDcEJRLE1BQU13Qjt3QkFDTnZDO3dCQUNBSDtvQkFDRjtvQkFDQSxPQUFPTjtnQkFDVDtnQkFFQSxPQUFPUztZQUNULFNBQVU7Z0JBQ1IsK0JBQStCO2dCQUMvQmpCLGdCQUFnQkcsT0FBTyxDQUFDZSxNQUFNLENBQUNNO1lBQ2pDO1FBQ0Y7UUFFQSx3QkFBd0I7UUFDeEJ4QixnQkFBZ0JHLE9BQU8sQ0FBQzhCLEdBQUcsQ0FBQ1QsU0FBU0s7UUFFckMsT0FBT0E7SUFDVCxHQUFHO1FBQUNqQztRQUFlRDtLQUFhLEdBQUcsa0NBQWtDO0lBRXJFLE1BQU1rRixhQUFheEYsa0RBQVdBLENBQUM7UUFDN0IsMkJBQTJCO1FBQzNCLE1BQU15RixRQUFRcEUsTUFBTUMsSUFBSSxDQUFDZCxNQUFNa0YsTUFBTTtRQUNyQyxLQUFLLE1BQU1sRSxRQUFRaUUsTUFBTztZQUN4Qi9ELElBQUlDLGVBQWUsQ0FBQ0gsS0FBS0ksU0FBUztRQUNwQztRQUNBbkIsU0FBUyxJQUFJQztRQUNiLDhCQUE4QjtRQUM5QkMsZ0JBQWdCRyxPQUFPLENBQUM2RSxLQUFLO1FBRTdCLGtCQUFrQjtRQUNsQixJQUFJO1lBQ0YsTUFBTTFGLGlFQUFxQjtRQUM3QixFQUFFLE9BQU84QixPQUFPO1lBQ2RDLFFBQVFDLElBQUksQ0FBQyw4QkFBOEJGO1FBQzdDO0lBQ0YsR0FBRyxFQUFFLEdBQUcsMkJBQTJCO0lBRW5DLE1BQU04RCxrQkFBa0I3RixrREFBV0EsQ0FBQyxPQUFPbUM7UUFDekMsTUFBTVgsT0FBT2hCLE1BQU02QixHQUFHLENBQUNGO1FBQ3ZCLElBQUlYLE1BQU07WUFDUkUsSUFBSUMsZUFBZSxDQUFDSCxLQUFLSSxTQUFTO1lBQ2xDbkIsU0FBUzZCLENBQUFBO2dCQUNQLE1BQU1uQixXQUFXLElBQUlULElBQUk0QjtnQkFDekJuQixTQUFTVSxNQUFNLENBQUNNO2dCQUNoQixPQUFPaEI7WUFDVDtRQUNGO1FBRUEsNkJBQTZCO1FBQzdCLElBQUk7WUFDRixNQUFNbEIsb0VBQXdCLENBQUNrQztRQUNqQyxFQUFFLE9BQU9KLE9BQU87WUFDZEMsUUFBUUMsSUFBSSxDQUFDLG9DQUFvQ0Y7UUFDbkQ7SUFDRixHQUFHLEVBQUUsR0FBRywyQkFBMkI7SUFFbkMsTUFBTStELGdCQUFnQjlGLGtEQUFXQSxDQUFDO1FBQ2hDLElBQUk7WUFDRixPQUFPLE1BQU1DLHNFQUEwQjtRQUN6QyxFQUFFLE9BQU84QixPQUFPO1lBQ2RDLFFBQVFDLElBQUksQ0FBQyw4QkFBOEJGO1lBQzNDLE9BQU87Z0JBQUVnRSxPQUFPO2dCQUFHQyxXQUFXO1lBQUU7UUFDbEM7SUFDRixHQUFHLEVBQUU7SUFFTCxxQ0FBcUM7SUFDckNyRyxzREFBZSxDQUFDO1FBQ2QsTUFBTXNHLFdBQVdDLFlBQVluRixxQkFBcUIsUUFBUSxxQkFBcUI7UUFDL0UsT0FBTyxJQUFNb0YsY0FBY0Y7SUFDN0IsR0FBRztRQUFDbEY7S0FBb0I7SUFFeEIscUJBQXFCO0lBQ3JCcEIsc0RBQWUsQ0FBQztRQUNkLE9BQU87WUFDTDZGO1FBQ0Y7SUFDRixHQUFHO1FBQUNBO0tBQVc7SUFFZixxQkFDRSw4REFBQ3JGLGtCQUFrQmlHLFFBQVE7UUFBQ2pCLE9BQU87WUFBRWpEO1lBQVVzRDtZQUFZSztZQUFpQkM7UUFBYztrQkFDdkZ6Rjs7Ozs7O0FBR1AsRUFBRTtBQUVLLE1BQU1nRyxnQkFBZ0I7SUFDM0IsTUFBTUMsVUFBVXpHLGlEQUFVQSxDQUFDTTtJQUMzQixJQUFJLENBQUNtRyxTQUFTO1FBQ1osTUFBTSxJQUFJckMsTUFBTTtJQUNsQjtJQUNBLE9BQU9xQztBQUNULEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zaWduaW54Ly4vY29udGV4dHMvSW1hZ2VDYWNoZUNvbnRleHQudHN4P2JlZGEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQsIHVzZVN0YXRlLCB1c2VSZWYsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IGltYWdlQ2FjaGVEQiBmcm9tICcuLi91dGlscy9pbmRleGVkREInO1xuaW1wb3J0IHsgY3JlYXRlTW9ja0ltYWdlIH0gZnJvbSAnLi4vdXRpbHMvbW9ja0ltYWdlJztcblxuaW50ZXJmYWNlIEltYWdlQ2FjaGVJdGVtIHtcbiAgYmxvYjogQmxvYjtcbiAgb2JqZWN0VXJsOiBzdHJpbmc7XG4gIHRpbWVzdGFtcDogbnVtYmVyO1xufVxuXG5pbnRlcmZhY2UgSW1hZ2VDYWNoZUNvbnRleHRUeXBlIHtcbiAgZ2V0SW1hZ2U6IChpbWFnZUlkOiBzdHJpbmcpID0+IFByb21pc2U8c3RyaW5nPjtcbiAgY2xlYXJDYWNoZTogKCkgPT4gdm9pZDtcbiAgcmVtb3ZlRnJvbUNhY2hlOiAoaW1hZ2VJZDogc3RyaW5nKSA9PiB2b2lkO1xuICBnZXRDYWNoZVN0YXRzOiAoKSA9PiBQcm9taXNlPHsgY291bnQ6IG51bWJlcjsgdG90YWxTaXplOiBudW1iZXIgfT47XG59XG5cbmNvbnN0IEltYWdlQ2FjaGVDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxJbWFnZUNhY2hlQ29udGV4dFR5cGUgfCBudWxsPihudWxsKTtcblxuaW50ZXJmYWNlIEltYWdlQ2FjaGVQcm92aWRlclByb3BzIHtcbiAgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTtcbiAgbWF4Q2FjaGVTaXplPzogbnVtYmVyO1xuICBjYWNoZUV4cGlyeU1zPzogbnVtYmVyO1xufVxuXG5leHBvcnQgY29uc3QgSW1hZ2VDYWNoZVByb3ZpZGVyOiBSZWFjdC5GQzxJbWFnZUNhY2hlUHJvdmlkZXJQcm9wcz4gPSAoe1xuICBjaGlsZHJlbixcbiAgbWF4Q2FjaGVTaXplID0gNTAsXG4gIGNhY2hlRXhwaXJ5TXMgPSA1ICogNjAgKiAxMDAwIC8vIDUgbWludXRlc1xufSkgPT4ge1xuICBjb25zdCBbY2FjaGUsIHNldENhY2hlXSA9IHVzZVN0YXRlPE1hcDxzdHJpbmcsIEltYWdlQ2FjaGVJdGVtPj4obmV3IE1hcCgpKTtcbiAgY29uc3QgcGVuZGluZ1JlcXVlc3RzID0gdXNlUmVmPE1hcDxzdHJpbmcsIFByb21pc2U8c3RyaW5nPj4+KG5ldyBNYXAoKSk7XG4gIGNvbnN0IGNhY2hlUmVmID0gdXNlUmVmPE1hcDxzdHJpbmcsIEltYWdlQ2FjaGVJdGVtPj4obmV3IE1hcCgpKTtcblxuICAvLyBLZWVwIGNhY2hlUmVmIGluIHN5bmMgd2l0aCBjYWNoZSBzdGF0ZVxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNhY2hlUmVmLmN1cnJlbnQgPSBjYWNoZTtcbiAgfSwgW2NhY2hlXSk7XG5cbiAgY29uc3QgY2xlYW51cEV4cGlyZWRJdGVtcyA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgIHNldENhY2hlKHByZXZDYWNoZSA9PiB7XG4gICAgICBjb25zdCBuZXdDYWNoZSA9IG5ldyBNYXAocHJldkNhY2hlKTtcbiAgICAgIGNvbnN0IGVudHJpZXMgPSBBcnJheS5mcm9tKG5ld0NhY2hlLmVudHJpZXMoKSk7XG4gICAgICBmb3IgKGNvbnN0IFtrZXksIGl0ZW1dIG9mIGVudHJpZXMpIHtcbiAgICAgICAgaWYgKG5vdyAtIGl0ZW0udGltZXN0YW1wID4gY2FjaGVFeHBpcnlNcykge1xuICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwoaXRlbS5vYmplY3RVcmwpO1xuICAgICAgICAgIG5ld0NhY2hlLmRlbGV0ZShrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3Q2FjaGU7XG4gICAgfSk7XG5cbiAgICAvLyBBbHNvIGNsZWFudXAgSW5kZXhlZERCXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGltYWdlQ2FjaGVEQi5jbGVhbnVwRXhwaXJlZChjYWNoZUV4cGlyeU1zKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gY2xlYW51cCBJbmRleGVkREI6JywgZXJyb3IpO1xuICAgIH1cbiAgfSwgW2NhY2hlRXhwaXJ5TXNdKTtcblxuICBjb25zdCBnZXRJbWFnZSA9IHVzZUNhbGxiYWNrKGFzeW5jIChpbWFnZUlkOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4gPT4ge1xuICAgIC8vIENoZWNrIGlmIHdlIGhhdmUgYSBjYWNoZWQgdmVyc2lvbiB1c2luZyByZWYgdG8gYXZvaWQgZGVwZW5kZW5jeVxuICAgIGNvbnN0IGNhY2hlZEl0ZW0gPSBjYWNoZVJlZi5jdXJyZW50LmdldChpbWFnZUlkKTtcbiAgICBpZiAoY2FjaGVkSXRlbSkge1xuICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgIGlmIChub3cgLSBjYWNoZWRJdGVtLnRpbWVzdGFtcCA8IGNhY2hlRXhwaXJ5TXMpIHtcbiAgICAgICAgcmV0dXJuIGNhY2hlZEl0ZW0ub2JqZWN0VXJsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gUmVtb3ZlIGV4cGlyZWQgaXRlbVxuICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKGNhY2hlZEl0ZW0ub2JqZWN0VXJsKTtcbiAgICAgICAgc2V0Q2FjaGUocHJldiA9PiB7XG4gICAgICAgICAgY29uc3QgbmV3Q2FjaGUgPSBuZXcgTWFwKHByZXYpO1xuICAgICAgICAgIG5ld0NhY2hlLmRlbGV0ZShpbWFnZUlkKTtcbiAgICAgICAgICByZXR1cm4gbmV3Q2FjaGU7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIHRoZXJlJ3MgYWxyZWFkeSBhIHBlbmRpbmcgcmVxdWVzdCBmb3IgdGhpcyBpbWFnZUlkXG4gICAgY29uc3QgcGVuZGluZ1JlcXVlc3QgPSBwZW5kaW5nUmVxdWVzdHMuY3VycmVudC5nZXQoaW1hZ2VJZCk7XG4gICAgaWYgKHBlbmRpbmdSZXF1ZXN0KSB7XG4gICAgICByZXR1cm4gcGVuZGluZ1JlcXVlc3Q7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIG5ldyByZXF1ZXN0XG4gICAgY29uc3QgcmVxdWVzdFByb21pc2UgPSAoYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gRmlyc3QsIHRyeSB0byBnZXQgZnJvbSBJbmRleGVkREJcbiAgICAgICAgY29uc3QgZGJDYWNoZWRJbWFnZSA9IGF3YWl0IGltYWdlQ2FjaGVEQi5nZXRJbWFnZShpbWFnZUlkKTtcbiAgICAgICAgaWYgKGRiQ2FjaGVkSW1hZ2UpIHtcbiAgICAgICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICAgIGlmIChub3cgLSBkYkNhY2hlZEltYWdlLnRpbWVzdGFtcCA8IGNhY2hlRXhwaXJ5TXMpIHtcbiAgICAgICAgICAgIC8vIENyZWF0ZSBvYmplY3QgVVJMIGZyb20gSW5kZXhlZERCIGJsb2JcbiAgICAgICAgICAgIGNvbnN0IG9iamVjdFVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZGJDYWNoZWRJbWFnZS5ibG9iKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQWRkIHRvIG1lbW9yeSBjYWNoZVxuICAgICAgICAgICAgc2V0Q2FjaGUocHJldiA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IG5ld0NhY2hlID0gbmV3IE1hcChwcmV2KTtcbiAgICAgICAgICAgICAgbmV3Q2FjaGUuc2V0KGltYWdlSWQsIHtcbiAgICAgICAgICAgICAgICBibG9iOiBkYkNhY2hlZEltYWdlLmJsb2IsXG4gICAgICAgICAgICAgICAgb2JqZWN0VXJsLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogZGJDYWNoZWRJbWFnZS50aW1lc3RhbXBcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHJldHVybiBuZXdDYWNoZTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gb2JqZWN0VXJsO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBSZW1vdmUgZXhwaXJlZCBpdGVtIGZyb20gSW5kZXhlZERCXG4gICAgICAgICAgICBhd2FpdCBpbWFnZUNhY2hlREIucmVtb3ZlSW1hZ2UoaW1hZ2VJZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgbm90IGluIEluZGV4ZWREQiBvciBleHBpcmVkLCBmZXRjaCBmcm9tIEFQSVxuICAgICAgICBjb25zb2xlLmxvZygnZmV0Y2hpbmcgaW1hZ2UnLCBpbWFnZUlkKTtcbiAgICAgICAgY29uc3QgcmVxdWVzdFRpbWVzdGFtcCA9IERhdGUubm93KCk7XG4gICAgICAgIFxuICAgICAgICAvLyBSZXRyeSBsb2dpYyBmb3IgbmV0d29yayBpc3N1ZXNcbiAgICAgICAgbGV0IGxhc3RFcnJvcjtcbiAgICAgICAgZm9yIChsZXQgYXR0ZW1wdCA9IDE7IGF0dGVtcHQgPD0gMzsgYXR0ZW1wdCsrKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBBdHRlbXB0ICR7YXR0ZW1wdH0gdG8gZmV0Y2ggaW1hZ2VgKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gVHJ5IGRpZmZlcmVudCBmZXRjaCBzdHJhdGVnaWVzXG4gICAgICAgICAgICBsZXQgcmVzcG9uc2U7XG4gICAgICAgICAgICBpZiAoYXR0ZW1wdCA9PT0gMSkge1xuICAgICAgICAgICAgICAvLyBGaXJzdCBhdHRlbXB0OiBOb3JtYWwgZmV0Y2hcbiAgICAgICAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cDovL2xvY2FsaG9zdDozMDA4L3B1YmxpYy9tZS9la3ljL2ltYWdlLyR7aW1hZ2VJZH0/dD0ke3JlcXVlc3RUaW1lc3RhbXB9YCwge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgJ0FjY2VwdCc6ICdpbWFnZS8qJyxcbiAgICAgICAgICAgICAgICAgICdDYWNoZS1Db250cm9sJzogJ25vLWNhY2hlLCBuby1zdG9yZSwgbXVzdC1yZXZhbGlkYXRlJyxcbiAgICAgICAgICAgICAgICAgICdQcmFnbWEnOiAnbm8tY2FjaGUnLFxuICAgICAgICAgICAgICAgICAgJ0V4cGlyZXMnOiAnMCdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYXR0ZW1wdCA9PT0gMikge1xuICAgICAgICAgICAgICAvLyBTZWNvbmQgYXR0ZW1wdDogV2l0aG91dCBjYWNoZSBoZWFkZXJzXG4gICAgICAgICAgICAgIHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYGh0dHA6Ly9sb2NhbGhvc3Q6MzAwOC9wdWJsaWMvbWUvZWt5Yy9pbWFnZS8ke2ltYWdlSWR9P3Q9JHtyZXF1ZXN0VGltZXN0YW1wfWAsIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICdBY2NlcHQnOiAnaW1hZ2UvKidcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIFRoaXJkIGF0dGVtcHQ6IFdpdGggZGlmZmVyZW50IEFjY2VwdCBoZWFkZXJcbiAgICAgICAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cDovL2xvY2FsaG9zdDozMDA4L3B1YmxpYy9tZS9la3ljL2ltYWdlLyR7aW1hZ2VJZH0/dD0ke3JlcXVlc3RUaW1lc3RhbXB9YCwge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgJ0FjY2VwdCc6ICdpbWFnZS9qcGVnLGltYWdlL3BuZyxpbWFnZS8qO3E9MC45LCovKjtxPTAuOCdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1Jlc3BvbnNlIHN0YXR1czonLCByZXNwb25zZS5zdGF0dXMsIHJlc3BvbnNlLnN0YXR1c1RleHQpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1Jlc3BvbnNlIGhlYWRlcnM6JywgT2JqZWN0LmZyb21FbnRyaWVzKHJlc3BvbnNlLmhlYWRlcnMuZW50cmllcygpKSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnUmVzcG9uc2UgdHlwZTonLCByZXNwb25zZS50eXBlKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZXNwb25zZSBib2R5VXNlZDonLCByZXNwb25zZS5ib2R5VXNlZCk7XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHJlc3BvbnNlIGlzIGFjdHVhbGx5IGFuIGltYWdlXG4gICAgICAgICAgICBjb25zdCBjb250ZW50VHlwZSA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDb250ZW50LVR5cGU6JywgY29udGVudFR5cGUpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBGb3Igc3RyZWFtaW5nIHJlc3BvbnNlcywgQ29udGVudC1UeXBlIG1pZ2h0IG5vdCBiZSBhdmFpbGFibGUgaW1tZWRpYXRlbHlcbiAgICAgICAgICAgIC8vIFdlJ2xsIHZhbGlkYXRlIHRoZSBibG9iIHR5cGUgaW5zdGVhZFxuICAgICAgICAgICAgaWYgKGNvbnRlbnRUeXBlICYmICFjb250ZW50VHlwZS5zdGFydHNXaXRoKCdpbWFnZS8nKSkge1xuICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1Jlc3BvbnNlIGlzIG5vdCBhbiBpbWFnZSwgY29udGVudC10eXBlOicsIGNvbnRlbnRUeXBlKTtcbiAgICAgICAgICAgICAgLy8gVHJ5IHRvIHJlYWQgYXMgdGV4dCB0byBzZWUgd2hhdCB3ZSBhY3R1YWxseSBnb3RcbiAgICAgICAgICAgICAgY29uc3QgdGV4dFJlc3BvbnNlID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdSZXNwb25zZSBib2R5IChmaXJzdCAyMDAgY2hhcnMpOicsIHRleHRSZXNwb25zZS5zdWJzdHJpbmcoMCwgMjAwKSk7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgU2VydmVyIHJldHVybmVkIG5vbi1pbWFnZSBjb250ZW50OiAke2NvbnRlbnRUeXBlfWApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgIC8vIElmIGJhY2tlbmQgaXMgbm90IGF2YWlsYWJsZSwgdHJ5IHRvIGNyZWF0ZSBhIG1vY2sgaW1hZ2UgZm9yIHRlc3RpbmdcbiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA0IHx8IHJlc3BvbnNlLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0JhY2tlbmQgcmV0dXJuZWQgZXJyb3IsIGNyZWF0aW5nIG1vY2sgaW1hZ2UgZm9yIHRlc3RpbmcnKTtcbiAgICAgICAgICAgICAgICBjb25zdCBtb2NrQmxvYiA9IGF3YWl0IGNyZWF0ZU1vY2tJbWFnZSg0MDAsIDMwMCwgYE1vY2s6ICR7aW1hZ2VJZH1gKTtcbiAgICAgICAgICAgICAgICBjb25zdCBvYmplY3RVcmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKG1vY2tCbG9iKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIEFkZCB0byBtZW1vcnkgY2FjaGVcbiAgICAgICAgICAgICAgICBzZXRDYWNoZShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0NhY2hlID0gbmV3IE1hcChwcmV2KTtcbiAgICAgICAgICAgICAgICAgIG5ld0NhY2hlLnNldChpbWFnZUlkLCB7XG4gICAgICAgICAgICAgICAgICAgIGJsb2I6IG1vY2tCbG9iLFxuICAgICAgICAgICAgICAgICAgICBvYmplY3RVcmwsXG4gICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcFxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gbmV3Q2FjaGU7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0VXJsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGxvYWQgaW1hZ2U6ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCByZXNwb25zZS5ibG9iKCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQmxvYiBjcmVhdGVkOicsIHtcbiAgICAgICAgICAgICAgc2l6ZTogYmxvYi5zaXplLFxuICAgICAgICAgICAgICB0eXBlOiBibG9iLnR5cGVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBWYWxpZGF0ZSB0aGF0IHdlIGhhdmUgYSB2YWxpZCBpbWFnZSBibG9iXG4gICAgICAgICAgICBpZiAoIWJsb2IudHlwZS5zdGFydHNXaXRoKCdpbWFnZS8nKSkge1xuICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0Jsb2IgaXMgbm90IGFuIGltYWdlIHR5cGU6JywgYmxvYi50eXBlKTtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGltYWdlIHR5cGU6ICR7YmxvYi50eXBlfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoYmxvYi5zaXplID09PSAwKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUud2FybignQmxvYiBpcyBlbXB0eScpO1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VtcHR5IGltYWdlIGRhdGEnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVGVzdCBpZiBibG9iIGNhbiBiZSByZWFkIGFzIGltYWdlXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb25zdCB0ZXN0VXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgICAgICAgICAgY29uc3QgdGVzdEltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgdGVzdEltZy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQmxvYiB2YWxpZGF0aW9uIHN1Y2Nlc3NmdWw6Jywge1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogdGVzdEltZy53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiB0ZXN0SW1nLmhlaWdodFxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHRlc3RVcmwpO1xuICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRlc3RJbWcub25lcnJvciA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Jsb2IgdmFsaWRhdGlvbiBmYWlsZWQgLSBub3QgYSB2YWxpZCBpbWFnZScpO1xuICAgICAgICAgICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh0ZXN0VXJsKTtcbiAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ0Jsb2IgaXMgbm90IGEgdmFsaWQgaW1hZ2UnKSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0ZXN0SW1nLnNyYyA9IHRlc3RVcmw7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignQmxvYiB2YWxpZGF0aW9uIGVycm9yOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGltYWdlIGRhdGEgZnJvbSBzZXJ2ZXInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3Qgb2JqZWN0VXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdPYmplY3QgVVJMIGNyZWF0ZWQ6Jywgb2JqZWN0VXJsKTtcbiAgICAgICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IERhdGUubm93KCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEFkZCB0byBtZW1vcnkgY2FjaGVcbiAgICAgICAgICAgIHNldENhY2hlKHByZXYgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBuZXdDYWNoZSA9IG5ldyBNYXAocHJldik7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBSZW1vdmUgb2xkZXN0IGl0ZW1zIGlmIGNhY2hlIGlzIGZ1bGxcbiAgICAgICAgICAgICAgaWYgKG5ld0NhY2hlLnNpemUgPj0gbWF4Q2FjaGVTaXplKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb2xkZXN0S2V5ID0gbmV3Q2FjaGUua2V5cygpLm5leHQoKS52YWx1ZTtcbiAgICAgICAgICAgICAgICBjb25zdCBvbGRlc3RJdGVtID0gbmV3Q2FjaGUuZ2V0KG9sZGVzdEtleSk7XG4gICAgICAgICAgICAgICAgaWYgKG9sZGVzdEl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwob2xkZXN0SXRlbS5vYmplY3RVcmwpO1xuICAgICAgICAgICAgICAgICAgbmV3Q2FjaGUuZGVsZXRlKG9sZGVzdEtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBuZXdDYWNoZS5zZXQoaW1hZ2VJZCwge1xuICAgICAgICAgICAgICAgIGJsb2IsXG4gICAgICAgICAgICAgICAgb2JqZWN0VXJsLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHJldHVybiBuZXdDYWNoZTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBBbHNvIHNhdmUgdG8gSW5kZXhlZERCIGZvciBwZXJzaXN0ZW5jZVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgYXdhaXQgaW1hZ2VDYWNoZURCLnNldEltYWdlKGltYWdlSWQsIGJsb2IsIHRpbWVzdGFtcCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBzYXZlIHRvIEluZGV4ZWREQjonLCBlcnJvcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBvYmplY3RVcmw7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGxhc3RFcnJvciA9IGVycm9yO1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBBdHRlbXB0ICR7YXR0ZW1wdH0gZmFpbGVkOmAsIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoYXR0ZW1wdCA8IDMpIHtcbiAgICAgICAgICAgICAgLy8gV2FpdCBiZWZvcmUgcmV0cnlcbiAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwMDAgKiBhdHRlbXB0KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBBbGwgYXR0ZW1wdHMgZmFpbGVkXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0FsbCBmZXRjaCBhdHRlbXB0cyBmYWlsZWQ6JywgbGFzdEVycm9yKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEZhbGxiYWNrIHRvIG1vY2sgaW1hZ2UgZm9yIHRlc3RpbmdcbiAgICAgICAgY29uc29sZS5sb2coJ1VzaW5nIG1vY2sgaW1hZ2UgYXMgZmFsbGJhY2snKTtcbiAgICAgICAgY29uc3QgbW9ja0Jsb2IgPSBhd2FpdCBjcmVhdGVNb2NrSW1hZ2UoNDAwLCAzMDAsIGBNb2NrOiAke2ltYWdlSWR9YCk7XG4gICAgICAgIGNvbnN0IG9iamVjdFVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwobW9ja0Jsb2IpO1xuICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBEYXRlLm5vdygpO1xuICAgICAgICBcbiAgICAgICAgLy8gQWRkIHRvIG1lbW9yeSBjYWNoZVxuICAgICAgICBzZXRDYWNoZShwcmV2ID0+IHtcbiAgICAgICAgICBjb25zdCBuZXdDYWNoZSA9IG5ldyBNYXAocHJldik7XG4gICAgICAgICAgbmV3Q2FjaGUuc2V0KGltYWdlSWQsIHtcbiAgICAgICAgICAgIGJsb2I6IG1vY2tCbG9iLFxuICAgICAgICAgICAgb2JqZWN0VXJsLFxuICAgICAgICAgICAgdGltZXN0YW1wXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIG5ld0NhY2hlO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gb2JqZWN0VXJsO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgLy8gUmVtb3ZlIGZyb20gcGVuZGluZyByZXF1ZXN0c1xuICAgICAgICBwZW5kaW5nUmVxdWVzdHMuY3VycmVudC5kZWxldGUoaW1hZ2VJZCk7XG4gICAgICB9XG4gICAgfSkoKTtcblxuICAgIC8vIFN0b3JlIHBlbmRpbmcgcmVxdWVzdFxuICAgIHBlbmRpbmdSZXF1ZXN0cy5jdXJyZW50LnNldChpbWFnZUlkLCByZXF1ZXN0UHJvbWlzZSk7XG4gICAgXG4gICAgcmV0dXJuIHJlcXVlc3RQcm9taXNlO1xuICB9LCBbY2FjaGVFeHBpcnlNcywgbWF4Q2FjaGVTaXplXSk7IC8vIFJlbW92ZWQgY2FjaGUgZnJvbSBkZXBlbmRlbmNpZXNcblxuICBjb25zdCBjbGVhckNhY2hlID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIC8vIENsZWFuIHVwIGFsbCBvYmplY3QgVVJMc1xuICAgIGNvbnN0IGl0ZW1zID0gQXJyYXkuZnJvbShjYWNoZS52YWx1ZXMoKSk7XG4gICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKGl0ZW0ub2JqZWN0VXJsKTtcbiAgICB9XG4gICAgc2V0Q2FjaGUobmV3IE1hcCgpKTtcbiAgICAvLyBBbHNvIGNsZWFyIHBlbmRpbmcgcmVxdWVzdHNcbiAgICBwZW5kaW5nUmVxdWVzdHMuY3VycmVudC5jbGVhcigpO1xuXG4gICAgLy8gQ2xlYXIgSW5kZXhlZERCXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGltYWdlQ2FjaGVEQi5jbGVhckFsbCgpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBjbGVhciBJbmRleGVkREI6JywgZXJyb3IpO1xuICAgIH1cbiAgfSwgW10pOyAvLyBSZW1vdmVkIGNhY2hlIGRlcGVuZGVuY3lcblxuICBjb25zdCByZW1vdmVGcm9tQ2FjaGUgPSB1c2VDYWxsYmFjayhhc3luYyAoaW1hZ2VJZDogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgaXRlbSA9IGNhY2hlLmdldChpbWFnZUlkKTtcbiAgICBpZiAoaXRlbSkge1xuICAgICAgVVJMLnJldm9rZU9iamVjdFVSTChpdGVtLm9iamVjdFVybCk7XG4gICAgICBzZXRDYWNoZShwcmV2ID0+IHtcbiAgICAgICAgY29uc3QgbmV3Q2FjaGUgPSBuZXcgTWFwKHByZXYpO1xuICAgICAgICBuZXdDYWNoZS5kZWxldGUoaW1hZ2VJZCk7XG4gICAgICAgIHJldHVybiBuZXdDYWNoZTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEFsc28gcmVtb3ZlIGZyb20gSW5kZXhlZERCXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGltYWdlQ2FjaGVEQi5yZW1vdmVJbWFnZShpbWFnZUlkKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gcmVtb3ZlIGZyb20gSW5kZXhlZERCOicsIGVycm9yKTtcbiAgICB9XG4gIH0sIFtdKTsgLy8gUmVtb3ZlZCBjYWNoZSBkZXBlbmRlbmN5XG5cbiAgY29uc3QgZ2V0Q2FjaGVTdGF0cyA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IGltYWdlQ2FjaGVEQi5nZXRDYWNoZVN0YXRzKCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIGdldCBjYWNoZSBzdGF0czonLCBlcnJvcik7XG4gICAgICByZXR1cm4geyBjb3VudDogMCwgdG90YWxTaXplOiAwIH07XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgLy8gQ2xlYW51cCBleHBpcmVkIGl0ZW1zIHBlcmlvZGljYWxseVxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoY2xlYW51cEV4cGlyZWRJdGVtcywgNjAwMDApOyAvLyBDaGVjayBldmVyeSBtaW51dGVcbiAgICByZXR1cm4gKCkgPT4gY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gIH0sIFtjbGVhbnVwRXhwaXJlZEl0ZW1zXSk7XG5cbiAgLy8gQ2xlYW51cCBvbiB1bm1vdW50XG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNsZWFyQ2FjaGUoKTtcbiAgICB9O1xuICB9LCBbY2xlYXJDYWNoZV0pO1xuXG4gIHJldHVybiAoXG4gICAgPEltYWdlQ2FjaGVDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt7IGdldEltYWdlLCBjbGVhckNhY2hlLCByZW1vdmVGcm9tQ2FjaGUsIGdldENhY2hlU3RhdHMgfX0+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9JbWFnZUNhY2hlQ29udGV4dC5Qcm92aWRlcj5cbiAgKTtcbn07XG5cbmV4cG9ydCBjb25zdCB1c2VJbWFnZUNhY2hlID0gKCk6IEltYWdlQ2FjaGVDb250ZXh0VHlwZSA9PiB7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KEltYWdlQ2FjaGVDb250ZXh0KTtcbiAgaWYgKCFjb250ZXh0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd1c2VJbWFnZUNhY2hlIG11c3QgYmUgdXNlZCB3aXRoaW4gYW4gSW1hZ2VDYWNoZVByb3ZpZGVyJyk7XG4gIH1cbiAgcmV0dXJuIGNvbnRleHQ7XG59OyAiXSwibmFtZXMiOlsiUmVhY3QiLCJjcmVhdGVDb250ZXh0IiwidXNlQ29udGV4dCIsInVzZVN0YXRlIiwidXNlUmVmIiwidXNlQ2FsbGJhY2siLCJpbWFnZUNhY2hlREIiLCJjcmVhdGVNb2NrSW1hZ2UiLCJJbWFnZUNhY2hlQ29udGV4dCIsIkltYWdlQ2FjaGVQcm92aWRlciIsImNoaWxkcmVuIiwibWF4Q2FjaGVTaXplIiwiY2FjaGVFeHBpcnlNcyIsImNhY2hlIiwic2V0Q2FjaGUiLCJNYXAiLCJwZW5kaW5nUmVxdWVzdHMiLCJjYWNoZVJlZiIsInVzZUVmZmVjdCIsImN1cnJlbnQiLCJjbGVhbnVwRXhwaXJlZEl0ZW1zIiwibm93IiwiRGF0ZSIsInByZXZDYWNoZSIsIm5ld0NhY2hlIiwiZW50cmllcyIsIkFycmF5IiwiZnJvbSIsImtleSIsIml0ZW0iLCJ0aW1lc3RhbXAiLCJVUkwiLCJyZXZva2VPYmplY3RVUkwiLCJvYmplY3RVcmwiLCJkZWxldGUiLCJjbGVhbnVwRXhwaXJlZCIsImVycm9yIiwiY29uc29sZSIsIndhcm4iLCJnZXRJbWFnZSIsImltYWdlSWQiLCJjYWNoZWRJdGVtIiwiZ2V0IiwicHJldiIsInBlbmRpbmdSZXF1ZXN0IiwicmVxdWVzdFByb21pc2UiLCJkYkNhY2hlZEltYWdlIiwiY3JlYXRlT2JqZWN0VVJMIiwiYmxvYiIsInNldCIsInJlbW92ZUltYWdlIiwibG9nIiwicmVxdWVzdFRpbWVzdGFtcCIsImxhc3RFcnJvciIsImF0dGVtcHQiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJPYmplY3QiLCJmcm9tRW50cmllcyIsInR5cGUiLCJib2R5VXNlZCIsImNvbnRlbnRUeXBlIiwic3RhcnRzV2l0aCIsInRleHRSZXNwb25zZSIsInRleHQiLCJzdWJzdHJpbmciLCJFcnJvciIsIm9rIiwibW9ja0Jsb2IiLCJzaXplIiwidGVzdFVybCIsInRlc3RJbWciLCJJbWFnZSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0Iiwib25sb2FkIiwid2lkdGgiLCJoZWlnaHQiLCJvbmVycm9yIiwic3JjIiwib2xkZXN0S2V5Iiwia2V5cyIsIm5leHQiLCJ2YWx1ZSIsIm9sZGVzdEl0ZW0iLCJzZXRJbWFnZSIsIm1lc3NhZ2UiLCJzZXRUaW1lb3V0IiwiY2xlYXJDYWNoZSIsIml0ZW1zIiwidmFsdWVzIiwiY2xlYXIiLCJjbGVhckFsbCIsInJlbW92ZUZyb21DYWNoZSIsImdldENhY2hlU3RhdHMiLCJjb3VudCIsInRvdGFsU2l6ZSIsImludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwiUHJvdmlkZXIiLCJ1c2VJbWFnZUNhY2hlIiwiY29udGV4dCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./contexts/ImageCacheContext.tsx\n");

/***/ }),

/***/ "./pages/image-demo.tsx":
/*!******************************!*\
  !*** ./pages/image-demo.tsx ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_ImageFrame__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/ImageFrame */ \"./components/ImageFrame.tsx\");\n/* harmony import */ var _components_StreamedImage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/StreamedImage */ \"./components/StreamedImage.tsx\");\n/* harmony import */ var _components_CacheStats__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/CacheStats */ \"./components/CacheStats.tsx\");\n/* harmony import */ var _contexts_ImageCacheContext__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../contexts/ImageCacheContext */ \"./contexts/ImageCacheContext.tsx\");\n\n\n\n\n\n\nconst ImageDemoContent = ()=>{\n    const [imageId, setImageId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\"); // Start with empty string\n    const [isValidInput, setIsValidInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const handleImageIdChange = (e)=>{\n        const value = e.target.value.trim();\n        setImageId(value);\n        setIsValidInput(value.length > 0); // Only valid if not empty\n    };\n    const handleBasicImageLoad = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        console.log(\"Basic image loaded successfully\");\n    }, []);\n    const handleBasicImageError = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((error)=>{\n        console.error(\"Basic image error:\", error.message);\n    }, []);\n    const handleErrorDemoError = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((error)=>{\n        console.error(\"Error demo:\", error.message);\n    }, []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            padding: \"20px\",\n            maxWidth: \"1200px\",\n            margin: \"0 auto\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_CacheStats__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {}, void 0, false, {\n                fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/pages/image-demo.tsx\",\n                lineNumber: 31,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                style: {\n                    textAlign: \"center\",\n                    marginBottom: \"30px\"\n                },\n                children: \"Streamed Image Demo (with Caching)\"\n            }, void 0, false, {\n                fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/pages/image-demo.tsx\",\n                lineNumber: 33,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    marginBottom: \"30px\",\n                    textAlign: \"center\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                        htmlFor: \"imageId\",\n                        style: {\n                            marginRight: \"10px\"\n                        },\n                        children: \"Image ID:\"\n                    }, void 0, false, {\n                        fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/pages/image-demo.tsx\",\n                        lineNumber: 39,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                        id: \"imageId\",\n                        type: \"text\",\n                        value: imageId,\n                        onChange: handleImageIdChange,\n                        placeholder: \"Enter image ID to load...\",\n                        style: {\n                            padding: \"8px 12px\",\n                            border: \"1px solid #d1d5db\",\n                            borderRadius: \"4px\",\n                            width: \"300px\"\n                        }\n                    }, void 0, false, {\n                        fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/pages/image-demo.tsx\",\n                        lineNumber: 42,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            marginTop: \"8px\",\n                            fontSize: \"12px\",\n                            color: \"#666\"\n                        },\n                        children: \"Try: 7ec2e963-239a-4296-92e9-439f97102439, test-image-002, or any valid UUID from your backend\"\n                    }, void 0, false, {\n                        fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/pages/image-demo.tsx\",\n                        lineNumber: 55,\n                        columnNumber: 9\n                    }, undefined),\n                    !isValidInput && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            marginTop: \"8px\",\n                            fontSize: \"12px\",\n                            color: \"#f59e0b\"\n                        },\n                        children: \"Enter an image ID to start loading images\"\n                    }, void 0, false, {\n                        fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/pages/image-demo.tsx\",\n                        lineNumber: 59,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/pages/image-demo.tsx\",\n                lineNumber: 38,\n                columnNumber: 7\n            }, undefined),\n            isValidInput ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            marginBottom: \"40px\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                children: \"Basic StreamedImage\"\n                            }, void 0, false, {\n                                fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/pages/image-demo.tsx\",\n                                lineNumber: 70,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_StreamedImage__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                imageId: imageId,\n                                width: 300,\n                                height: 200,\n                                alt: \"Basic streamed image\",\n                                onLoad: handleBasicImageLoad,\n                                onError: handleBasicImageError\n                            }, void 0, false, {\n                                fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/pages/image-demo.tsx\",\n                                lineNumber: 71,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/pages/image-demo.tsx\",\n                        lineNumber: 69,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            marginBottom: \"40px\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                children: \"ImageFrame with Border\"\n                            }, void 0, false, {\n                                fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/pages/image-demo.tsx\",\n                                lineNumber: 83,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ImageFrame__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                imageId: imageId,\n                                title: \"eKYC Document\",\n                                width: 400,\n                                height: 300,\n                                showBorder: true,\n                                showTitle: true\n                            }, void 0, false, {\n                                fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/pages/image-demo.tsx\",\n                                lineNumber: 84,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/pages/image-demo.tsx\",\n                        lineNumber: 82,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            marginBottom: \"40px\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                children: \"ImageFrame without Border\"\n                            }, void 0, false, {\n                                fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/pages/image-demo.tsx\",\n                                lineNumber: 96,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ImageFrame__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                imageId: imageId,\n                                title: \"Clean Document\",\n                                width: 350,\n                                height: 250,\n                                showBorder: false,\n                                showTitle: true\n                            }, void 0, false, {\n                                fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/pages/image-demo.tsx\",\n                                lineNumber: 97,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/pages/image-demo.tsx\",\n                        lineNumber: 95,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            marginBottom: \"40px\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                children: \"Multiple Images (Same ID - Cached)\"\n                            }, void 0, false, {\n                                fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/pages/image-demo.tsx\",\n                                lineNumber: 109,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    display: \"flex\",\n                                    gap: \"20px\",\n                                    flexWrap: \"wrap\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ImageFrame__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                        imageId: imageId,\n                                        title: \"Document 1\",\n                                        width: 200,\n                                        height: 150,\n                                        showBorder: true,\n                                        showTitle: true\n                                    }, void 0, false, {\n                                        fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/pages/image-demo.tsx\",\n                                        lineNumber: 111,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ImageFrame__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                        imageId: imageId,\n                                        title: \"Document 2\",\n                                        width: 200,\n                                        height: 150,\n                                        showBorder: true,\n                                        showTitle: true\n                                    }, void 0, false, {\n                                        fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/pages/image-demo.tsx\",\n                                        lineNumber: 119,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ImageFrame__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                        imageId: imageId,\n                                        title: \"Document 3\",\n                                        width: 200,\n                                        height: 150,\n                                        showBorder: true,\n                                        showTitle: true\n                                    }, void 0, false, {\n                                        fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/pages/image-demo.tsx\",\n                                        lineNumber: 127,\n                                        columnNumber: 15\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/pages/image-demo.tsx\",\n                                lineNumber: 110,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/pages/image-demo.tsx\",\n                        lineNumber: 108,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            marginBottom: \"40px\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                children: \"Error Handling Demo\"\n                            }, void 0, false, {\n                                fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/pages/image-demo.tsx\",\n                                lineNumber: 140,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                children: \"This will show error state if the image ID doesn't exist in backend:\"\n                            }, void 0, false, {\n                                fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/pages/image-demo.tsx\",\n                                lineNumber: 141,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_StreamedImage__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                imageId: imageId,\n                                width: 300,\n                                height: 200,\n                                alt: \"Error demo\",\n                                onError: handleErrorDemoError,\n                                fallbackSrc: \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjVmNWY1Ii8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPk5vIEltYWdlPC90ZXh0Pjwvc3ZnPg==\"\n                            }, void 0, false, {\n                                fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/pages/image-demo.tsx\",\n                                lineNumber: 142,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/pages/image-demo.tsx\",\n                        lineNumber: 139,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true) : // Show placeholder when no imageId is entered\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    textAlign: \"center\",\n                    padding: \"60px 20px\",\n                    backgroundColor: \"#f9fafb\",\n                    borderRadius: \"8px\",\n                    border: \"2px dashed #d1d5db\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            fontSize: \"18px\",\n                            color: \"#6b7280\",\n                            marginBottom: \"10px\"\n                        },\n                        children: \"\\uD83D\\uDCF7 Enter an Image ID above to start loading images\"\n                    }, void 0, false, {\n                        fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/pages/image-demo.tsx\",\n                        lineNumber: 161,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            fontSize: \"14px\",\n                            color: \"#9ca3af\"\n                        },\n                        children: \"The images will be cached automatically for better performance\"\n                    }, void 0, false, {\n                        fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/pages/image-demo.tsx\",\n                        lineNumber: 164,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/pages/image-demo.tsx\",\n                lineNumber: 154,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/pages/image-demo.tsx\",\n        lineNumber: 30,\n        columnNumber: 5\n    }, undefined);\n};\nconst ImageDemo = ()=>{\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_contexts_ImageCacheContext__WEBPACK_IMPORTED_MODULE_5__.ImageCacheProvider, {\n        maxCacheSize: 20,\n        cacheExpiryMs: 10 * 60 * 1000,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ImageDemoContent, {}, void 0, false, {\n            fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/pages/image-demo.tsx\",\n            lineNumber: 176,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/home/nhuphuoc/Workspace/Tool/signinx/pages/image-demo.tsx\",\n        lineNumber: 175,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ImageDemo);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Ozs7Ozs7Ozs7Ozs7OztBQU85RDtBQUVBLE1BQU1lLFlBQXNCO0lBQzFCLHFCQUNFLDhEQUFDdkQsMkVBQWtCQTtRQUFDd0QsY0FBYztRQUFJQyxlQUFlLEtBQUssS0FBSztrQkFDN0QsNEVBQUN4RDs7Ozs7Ozs7OztBQUdQO0FBRUEsaUVBQWVzRCxTQUFTQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2lnbmlueC8uL3BhZ2VzL2ltYWdlLWRlbW8udHN4PzY5YzgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBJbWFnZUZyYW1lIGZyb20gJy4uL2NvbXBvbmVudHMvSW1hZ2VGcmFtZSc7XG5pbXBvcnQgU3RyZWFtZWRJbWFnZSBmcm9tICcuLi9jb21wb25lbnRzL1N0cmVhbWVkSW1hZ2UnO1xuaW1wb3J0IENhY2hlU3RhdHMgZnJvbSAnLi4vY29tcG9uZW50cy9DYWNoZVN0YXRzJztcbmltcG9ydCB7IEltYWdlQ2FjaGVQcm92aWRlciB9IGZyb20gJy4uL2NvbnRleHRzL0ltYWdlQ2FjaGVDb250ZXh0JztcblxuY29uc3QgSW1hZ2VEZW1vQ29udGVudDogUmVhY3QuRkMgPSAoKSA9PiB7XG4gIGNvbnN0IFtpbWFnZUlkLCBzZXRJbWFnZUlkXSA9IHVzZVN0YXRlKCcnKTsgLy8gU3RhcnQgd2l0aCBlbXB0eSBzdHJpbmdcbiAgY29uc3QgW2lzVmFsaWRJbnB1dCwgc2V0SXNWYWxpZElucHV0XSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICBjb25zdCBoYW5kbGVJbWFnZUlkQ2hhbmdlID0gKGU6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBlLnRhcmdldC52YWx1ZS50cmltKCk7XG4gICAgc2V0SW1hZ2VJZCh2YWx1ZSk7XG4gICAgc2V0SXNWYWxpZElucHV0KHZhbHVlLmxlbmd0aCA+IDApOyAvLyBPbmx5IHZhbGlkIGlmIG5vdCBlbXB0eVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUJhc2ljSW1hZ2VMb2FkID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdCYXNpYyBpbWFnZSBsb2FkZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gIH0sIFtdKTtcblxuICBjb25zdCBoYW5kbGVCYXNpY0ltYWdlRXJyb3IgPSB1c2VDYWxsYmFjaygoZXJyb3I6IEVycm9yKSA9PiB7XG4gICAgY29uc29sZS5lcnJvcignQmFzaWMgaW1hZ2UgZXJyb3I6JywgZXJyb3IubWVzc2FnZSk7XG4gIH0sIFtdKTtcblxuICBjb25zdCBoYW5kbGVFcnJvckRlbW9FcnJvciA9IHVzZUNhbGxiYWNrKChlcnJvcjogRXJyb3IpID0+IHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZW1vOicsIGVycm9yLm1lc3NhZ2UpO1xuICB9LCBbXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IHN0eWxlPXt7IHBhZGRpbmc6ICcyMHB4JywgbWF4V2lkdGg6ICcxMjAwcHgnLCBtYXJnaW46ICcwIGF1dG8nIH19PlxuICAgICAgPENhY2hlU3RhdHMgLz5cblxuICAgICAgPGgxIHN0eWxlPXt7IHRleHRBbGlnbjogJ2NlbnRlcicsIG1hcmdpbkJvdHRvbTogJzMwcHgnIH19PlxuICAgICAgICBTdHJlYW1lZCBJbWFnZSBEZW1vICh3aXRoIENhY2hpbmcpXG4gICAgICA8L2gxPlxuXG4gICAgICB7LyogSW5wdXQgZm9yIGltYWdlIElEICovfVxuICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5Cb3R0b206ICczMHB4JywgdGV4dEFsaWduOiAnY2VudGVyJyB9fT5cbiAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJpbWFnZUlkXCIgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6ICcxMHB4JyB9fT5cbiAgICAgICAgICBJbWFnZSBJRDpcbiAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgPGlucHV0XG4gICAgICAgICAgaWQ9XCJpbWFnZUlkXCJcbiAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgdmFsdWU9e2ltYWdlSWR9XG4gICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUltYWdlSWRDaGFuZ2V9XG4gICAgICAgICAgcGxhY2Vob2xkZXI9XCJFbnRlciBpbWFnZSBJRCB0byBsb2FkLi4uXCJcbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgcGFkZGluZzogJzhweCAxMnB4JyxcbiAgICAgICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCAjZDFkNWRiJyxcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXG4gICAgICAgICAgICB3aWR0aDogJzMwMHB4J1xuICAgICAgICAgIH19XG4gICAgICAgIC8+XG4gICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luVG9wOiAnOHB4JywgZm9udFNpemU6ICcxMnB4JywgY29sb3I6ICcjNjY2JyB9fT5cbiAgICAgICAgICBUcnk6IDdlYzJlOTYzLTIzOWEtNDI5Ni05MmU5LTQzOWY5NzEwMjQzOSwgdGVzdC1pbWFnZS0wMDIsIG9yIGFueSB2YWxpZCBVVUlEIGZyb20geW91ciBiYWNrZW5kXG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7IWlzVmFsaWRJbnB1dCAmJiAoXG4gICAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5Ub3A6ICc4cHgnLCBmb250U2l6ZTogJzEycHgnLCBjb2xvcjogJyNmNTllMGInIH19PlxuICAgICAgICAgICAgRW50ZXIgYW4gaW1hZ2UgSUQgdG8gc3RhcnQgbG9hZGluZyBpbWFnZXNcbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogT25seSByZW5kZXIgaW1hZ2VzIHdoZW4gdXNlciBoYXMgZW50ZXJlZCBhIHZhbGlkIGltYWdlSWQgKi99XG4gICAgICB7aXNWYWxpZElucHV0ID8gKFxuICAgICAgICA8PlxuICAgICAgICAgIHsvKiBFeGFtcGxlIDE6IEJhc2ljIFN0cmVhbWVkSW1hZ2UgKi99XG4gICAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5Cb3R0b206ICc0MHB4JyB9fT5cbiAgICAgICAgICAgIDxoMj5CYXNpYyBTdHJlYW1lZEltYWdlPC9oMj5cbiAgICAgICAgICAgIDxTdHJlYW1lZEltYWdlXG4gICAgICAgICAgICAgIGltYWdlSWQ9e2ltYWdlSWR9XG4gICAgICAgICAgICAgIHdpZHRoPXszMDB9XG4gICAgICAgICAgICAgIGhlaWdodD17MjAwfVxuICAgICAgICAgICAgICBhbHQ9XCJCYXNpYyBzdHJlYW1lZCBpbWFnZVwiXG4gICAgICAgICAgICAgIG9uTG9hZD17aGFuZGxlQmFzaWNJbWFnZUxvYWR9XG4gICAgICAgICAgICAgIG9uRXJyb3I9e2hhbmRsZUJhc2ljSW1hZ2VFcnJvcn1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7LyogRXhhbXBsZSAyOiBJbWFnZUZyYW1lIHdpdGggQm9yZGVyICovfVxuICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiAnNDBweCcgfX0+XG4gICAgICAgICAgICA8aDI+SW1hZ2VGcmFtZSB3aXRoIEJvcmRlcjwvaDI+XG4gICAgICAgICAgICA8SW1hZ2VGcmFtZVxuICAgICAgICAgICAgICBpbWFnZUlkPXtpbWFnZUlkfVxuICAgICAgICAgICAgICB0aXRsZT1cImVLWUMgRG9jdW1lbnRcIlxuICAgICAgICAgICAgICB3aWR0aD17NDAwfVxuICAgICAgICAgICAgICBoZWlnaHQ9ezMwMH1cbiAgICAgICAgICAgICAgc2hvd0JvcmRlcj17dHJ1ZX1cbiAgICAgICAgICAgICAgc2hvd1RpdGxlPXt0cnVlfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIHsvKiBFeGFtcGxlIDM6IEltYWdlRnJhbWUgd2l0aG91dCBCb3JkZXIgKi99XG4gICAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5Cb3R0b206ICc0MHB4JyB9fT5cbiAgICAgICAgICAgIDxoMj5JbWFnZUZyYW1lIHdpdGhvdXQgQm9yZGVyPC9oMj5cbiAgICAgICAgICAgIDxJbWFnZUZyYW1lXG4gICAgICAgICAgICAgIGltYWdlSWQ9e2ltYWdlSWR9XG4gICAgICAgICAgICAgIHRpdGxlPVwiQ2xlYW4gRG9jdW1lbnRcIlxuICAgICAgICAgICAgICB3aWR0aD17MzUwfVxuICAgICAgICAgICAgICBoZWlnaHQ9ezI1MH1cbiAgICAgICAgICAgICAgc2hvd0JvcmRlcj17ZmFsc2V9XG4gICAgICAgICAgICAgIHNob3dUaXRsZT17dHJ1ZX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7LyogRXhhbXBsZSA0OiBNdWx0aXBsZSBJbWFnZXMgKi99XG4gICAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5Cb3R0b206ICc0MHB4JyB9fT5cbiAgICAgICAgICAgIDxoMj5NdWx0aXBsZSBJbWFnZXMgKFNhbWUgSUQgLSBDYWNoZWQpPC9oMj5cbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBnYXA6ICcyMHB4JywgZmxleFdyYXA6ICd3cmFwJyB9fT5cbiAgICAgICAgICAgICAgPEltYWdlRnJhbWVcbiAgICAgICAgICAgICAgICBpbWFnZUlkPXtpbWFnZUlkfVxuICAgICAgICAgICAgICAgIHRpdGxlPVwiRG9jdW1lbnQgMVwiXG4gICAgICAgICAgICAgICAgd2lkdGg9ezIwMH1cbiAgICAgICAgICAgICAgICBoZWlnaHQ9ezE1MH1cbiAgICAgICAgICAgICAgICBzaG93Qm9yZGVyPXt0cnVlfVxuICAgICAgICAgICAgICAgIHNob3dUaXRsZT17dHJ1ZX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPEltYWdlRnJhbWVcbiAgICAgICAgICAgICAgICBpbWFnZUlkPXtpbWFnZUlkfVxuICAgICAgICAgICAgICAgIHRpdGxlPVwiRG9jdW1lbnQgMlwiXG4gICAgICAgICAgICAgICAgd2lkdGg9ezIwMH1cbiAgICAgICAgICAgICAgICBoZWlnaHQ9ezE1MH1cbiAgICAgICAgICAgICAgICBzaG93Qm9yZGVyPXt0cnVlfVxuICAgICAgICAgICAgICAgIHNob3dUaXRsZT17dHJ1ZX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPEltYWdlRnJhbWVcbiAgICAgICAgICAgICAgICBpbWFnZUlkPXtpbWFnZUlkfVxuICAgICAgICAgICAgICAgIHRpdGxlPVwiRG9jdW1lbnQgM1wiXG4gICAgICAgICAgICAgICAgd2lkdGg9ezIwMH1cbiAgICAgICAgICAgICAgICBoZWlnaHQ9ezE1MH1cbiAgICAgICAgICAgICAgICBzaG93Qm9yZGVyPXt0cnVlfVxuICAgICAgICAgICAgICAgIHNob3dUaXRsZT17dHJ1ZX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIEV4YW1wbGUgNTogRXJyb3IgaGFuZGxpbmcgZGVtb25zdHJhdGlvbiAqL31cbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogJzQwcHgnIH19PlxuICAgICAgICAgICAgPGgyPkVycm9yIEhhbmRsaW5nIERlbW88L2gyPlxuICAgICAgICAgICAgPHA+VGhpcyB3aWxsIHNob3cgZXJyb3Igc3RhdGUgaWYgdGhlIGltYWdlIElEIGRvZXNuJ3QgZXhpc3QgaW4gYmFja2VuZDo8L3A+XG4gICAgICAgICAgICA8U3RyZWFtZWRJbWFnZVxuICAgICAgICAgICAgICBpbWFnZUlkPXtpbWFnZUlkfVxuICAgICAgICAgICAgICB3aWR0aD17MzAwfVxuICAgICAgICAgICAgICBoZWlnaHQ9ezIwMH1cbiAgICAgICAgICAgICAgYWx0PVwiRXJyb3IgZGVtb1wiXG4gICAgICAgICAgICAgIG9uRXJyb3I9e2hhbmRsZUVycm9yRGVtb0Vycm9yfVxuICAgICAgICAgICAgICBmYWxsYmFja1NyYz1cImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjNhV1IwYUQwaU1qQXdJaUJvWldsbmFIUTlJakl3TUNJZ2VHMXNibk05SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpJd01EQXZjM1puSWo0OGNtVmpkQ0IzYVdSMGFEMGlNVEF3SlNJZ2FHVnBaMmgwUFNJeE1EQWxJaUJtYVd4c1BTSWpaalZtTldZMUlpOCtQSFJsZUhRZ2VEMGlOVEFsSWlCNVBTSTFNQ1VpSUdadmJuUXRabUZ0YVd4NVBTSkJjbWxoYkNJZ1ptOXVkQzF6YVhwbFBTSXhOQ0lnWm1sc2JEMGlJems1T1NJZ2RHVjRkQzFoYm1Ob2IzSTlJbTFwWkdSc1pTSWdaSGs5SWk0elpXMGlQazV2SUVsdFlXZGxQQzkwWlhoMFBqd3ZjM1puUGc9PVwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8Lz5cbiAgICAgICkgOiAoXG4gICAgICAgIC8vIFNob3cgcGxhY2Vob2xkZXIgd2hlbiBubyBpbWFnZUlkIGlzIGVudGVyZWRcbiAgICAgICAgPGRpdiBzdHlsZT17eyBcbiAgICAgICAgICB0ZXh0QWxpZ246ICdjZW50ZXInLCBcbiAgICAgICAgICBwYWRkaW5nOiAnNjBweCAyMHB4JyxcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZjlmYWZiJyxcbiAgICAgICAgICBib3JkZXJSYWRpdXM6ICc4cHgnLFxuICAgICAgICAgIGJvcmRlcjogJzJweCBkYXNoZWQgI2QxZDVkYidcbiAgICAgICAgfX0+XG4gICAgICAgICAgPGRpdiBzdHlsZT17eyBmb250U2l6ZTogJzE4cHgnLCBjb2xvcjogJyM2YjcyODAnLCBtYXJnaW5Cb3R0b206ICcxMHB4JyB9fT5cbiAgICAgICAgICAgIPCfk7cgRW50ZXIgYW4gSW1hZ2UgSUQgYWJvdmUgdG8gc3RhcnQgbG9hZGluZyBpbWFnZXNcbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGZvbnRTaXplOiAnMTRweCcsIGNvbG9yOiAnIzljYTNhZicgfX0+XG4gICAgICAgICAgICBUaGUgaW1hZ2VzIHdpbGwgYmUgY2FjaGVkIGF1dG9tYXRpY2FsbHkgZm9yIGJldHRlciBwZXJmb3JtYW5jZVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5jb25zdCBJbWFnZURlbW86IFJlYWN0LkZDID0gKCkgPT4ge1xuICByZXR1cm4gKFxuICAgIDxJbWFnZUNhY2hlUHJvdmlkZXIgbWF4Q2FjaGVTaXplPXsyMH0gY2FjaGVFeHBpcnlNcz17MTAgKiA2MCAqIDEwMDB9PlxuICAgICAgPEltYWdlRGVtb0NvbnRlbnQgLz5cbiAgICA8L0ltYWdlQ2FjaGVQcm92aWRlcj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEltYWdlRGVtbzsgIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VDYWxsYmFjayIsIkltYWdlRnJhbWUiLCJTdHJlYW1lZEltYWdlIiwiQ2FjaGVTdGF0cyIsIkltYWdlQ2FjaGVQcm92aWRlciIsIkltYWdlRGVtb0NvbnRlbnQiLCJpbWFnZUlkIiwic2V0SW1hZ2VJZCIsImlzVmFsaWRJbnB1dCIsInNldElzVmFsaWRJbnB1dCIsImhhbmRsZUltYWdlSWRDaGFuZ2UiLCJlIiwidmFsdWUiLCJ0YXJnZXQiLCJ0cmltIiwibGVuZ3RoIiwiaGFuZGxlQmFzaWNJbWFnZUxvYWQiLCJjb25zb2xlIiwibG9nIiwiaGFuZGxlQmFzaWNJbWFnZUVycm9yIiwiZXJyb3IiLCJtZXNzYWdlIiwiaGFuZGxlRXJyb3JEZW1vRXJyb3IiLCJkaXYiLCJzdHlsZSIsInBhZGRpbmciLCJtYXhXaWR0aCIsIm1hcmdpbiIsImgxIiwidGV4dEFsaWduIiwibWFyZ2luQm90dG9tIiwibGFiZWwiLCJodG1sRm9yIiwibWFyZ2luUmlnaHQiLCJpbnB1dCIsImlkIiwidHlwZSIsIm9uQ2hhbmdlIiwicGxhY2Vob2xkZXIiLCJib3JkZXIiLCJib3JkZXJSYWRpdXMiLCJ3aWR0aCIsIm1hcmdpblRvcCIsImZvbnRTaXplIiwiY29sb3IiLCJoMiIsImhlaWdodCIsImFsdCIsIm9uTG9hZCIsIm9uRXJyb3IiLCJ0aXRsZSIsInNob3dCb3JkZXIiLCJzaG93VGl0bGUiLCJkaXNwbGF5IiwiZ2FwIiwiZmxleFdyYXAiLCJwIiwiZmFsbGJhY2tTcmMiLCJiYWNrZ3JvdW5kQ29sb3IiLCJJbWFnZURlbW8iLCJtYXhDYWNoZVNpemUiLCJjYWNoZUV4cGlyeU1zIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./pages/image-demo.tsx\n");

/***/ }),

/***/ "./utils/indexedDB.ts":
/*!****************************!*\
  !*** ./utils/indexedDB.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   imageCacheDB: () => (/* binding */ imageCacheDB)\n/* harmony export */ });\nclass ImageCacheDB {\n    async init() {\n        return new Promise((resolve, reject)=>{\n            const request = indexedDB.open(this.dbName, this.version);\n            request.onerror = ()=>reject(request.error);\n            request.onsuccess = ()=>{\n                this.db = request.result;\n                resolve();\n            };\n            request.onupgradeneeded = (event)=>{\n                const db = event.target.result;\n                if (!db.objectStoreNames.contains(this.storeName)) {\n                    const store = db.createObjectStore(this.storeName, {\n                        keyPath: \"id\"\n                    });\n                    store.createIndex(\"timestamp\", \"timestamp\", {\n                        unique: false\n                    });\n                }\n            };\n        });\n    }\n    async getImage(id) {\n        if (!this.db) await this.init();\n        return new Promise((resolve, reject)=>{\n            const transaction = this.db.transaction([\n                this.storeName\n            ], \"readonly\");\n            const store = transaction.objectStore(this.storeName);\n            const request = store.get(id);\n            request.onerror = ()=>reject(request.error);\n            request.onsuccess = ()=>resolve(request.result || null);\n        });\n    }\n    async setImage(id, blob, timestamp) {\n        if (!this.db) await this.init();\n        return new Promise((resolve, reject)=>{\n            const transaction = this.db.transaction([\n                this.storeName\n            ], \"readwrite\");\n            const store = transaction.objectStore(this.storeName);\n            const cachedImage = {\n                id,\n                blob,\n                timestamp,\n                size: blob.size\n            };\n            const request = store.put(cachedImage);\n            request.onerror = ()=>reject(request.error);\n            request.onsuccess = ()=>resolve();\n        });\n    }\n    async removeImage(id) {\n        if (!this.db) await this.init();\n        return new Promise((resolve, reject)=>{\n            const transaction = this.db.transaction([\n                this.storeName\n            ], \"readwrite\");\n            const store = transaction.objectStore(this.storeName);\n            const request = store.delete(id);\n            request.onerror = ()=>reject(request.error);\n            request.onsuccess = ()=>resolve();\n        });\n    }\n    async clearAll() {\n        if (!this.db) await this.init();\n        return new Promise((resolve, reject)=>{\n            const transaction = this.db.transaction([\n                this.storeName\n            ], \"readwrite\");\n            const store = transaction.objectStore(this.storeName);\n            const request = store.clear();\n            request.onerror = ()=>reject(request.error);\n            request.onsuccess = ()=>resolve();\n        });\n    }\n    async getCacheStats() {\n        if (!this.db) await this.init();\n        return new Promise((resolve, reject)=>{\n            const transaction = this.db.transaction([\n                this.storeName\n            ], \"readonly\");\n            const store = transaction.objectStore(this.storeName);\n            const request = store.getAll();\n            request.onerror = ()=>reject(request.error);\n            request.onsuccess = ()=>{\n                const images = request.result;\n                const totalSize = images.reduce((sum, img)=>sum + img.size, 0);\n                resolve({\n                    count: images.length,\n                    totalSize\n                });\n            };\n        });\n    }\n    async cleanupExpired(expiryMs) {\n        if (!this.db) await this.init();\n        return new Promise((resolve, reject)=>{\n            const transaction = this.db.transaction([\n                this.storeName\n            ], \"readwrite\");\n            const store = transaction.objectStore(this.storeName);\n            const index = store.index(\"timestamp\");\n            const cutoff = Date.now() - expiryMs;\n            const request = index.openCursor(IDBKeyRange.upperBound(cutoff));\n            request.onerror = ()=>reject(request.error);\n            request.onsuccess = ()=>{\n                const cursor = request.result;\n                if (cursor) {\n                    cursor.delete();\n                    cursor.continue();\n                } else {\n                    resolve();\n                }\n            };\n        });\n    }\n    constructor(){\n        this.dbName = \"ImageCacheDB\";\n        this.version = 1;\n        this.storeName = \"images\";\n        this.db = null;\n    }\n}\nconst imageCacheDB = new ImageCacheDB();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (imageCacheDB);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkFBRUw7Z0JBQVU7WUFDNUM7UUFDRjtJQUNGO0lBRUEsTUFBTU0sZUFBZUMsUUFBZ0IsRUFBaUI7UUFDcEQsSUFBSSxDQUFDLElBQUksQ0FBQ3RDLEVBQUUsRUFBRSxNQUFNLElBQUksQ0FBQ1osSUFBSTtRQUU3QixPQUFPLElBQUlDLFFBQVEsQ0FBQ0MsU0FBU0M7WUFDM0IsTUFBTXdCLGNBQWMsSUFBSSxDQUFDZixFQUFFLENBQUVlLFdBQVcsQ0FBQztnQkFBQyxJQUFJLENBQUNSLFNBQVM7YUFBQyxFQUFFO1lBQzNELE1BQU1DLFFBQVFPLFlBQVlDLFdBQVcsQ0FBQyxJQUFJLENBQUNULFNBQVM7WUFDcEQsTUFBTWdDLFFBQVEvQixNQUFNK0IsS0FBSyxDQUFDO1lBQzFCLE1BQU1DLFNBQVNDLEtBQUtDLEdBQUcsS0FBS0o7WUFFNUIsTUFBTTlDLFVBQVUrQyxNQUFNSSxVQUFVLENBQUNDLFlBQVlDLFVBQVUsQ0FBQ0w7WUFFeERoRCxRQUFRSyxPQUFPLEdBQUcsSUFBTU4sT0FBT0MsUUFBUU0sS0FBSztZQUM1Q04sUUFBUU8sU0FBUyxHQUFHO2dCQUNsQixNQUFNK0MsU0FBU3RELFFBQVFTLE1BQU07Z0JBQzdCLElBQUk2QyxRQUFRO29CQUNWQSxPQUFPckIsTUFBTTtvQkFDYnFCLE9BQU9DLFFBQVE7Z0JBQ2pCLE9BQU87b0JBQ0x6RDtnQkFDRjtZQUNGO1FBQ0Y7SUFDRjs7YUE1SFFLLFNBQVM7YUFDVEMsVUFBVTthQUNWVyxZQUFZO2FBQ1pQLEtBQXlCOztBQTBIbkM7QUFFTyxNQUFNZ0QsZUFBZSxJQUFJN0QsZUFBZTtBQUMvQyxpRUFBZTZELFlBQVlBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zaWduaW54Ly4vdXRpbHMvaW5kZXhlZERCLnRzPzI5ZDYiXSwic291cmNlc0NvbnRlbnQiOlsiaW50ZXJmYWNlIENhY2hlZEltYWdlIHtcbiAgaWQ6IHN0cmluZztcbiAgYmxvYjogQmxvYjtcbiAgdGltZXN0YW1wOiBudW1iZXI7XG4gIHNpemU6IG51bWJlcjtcbn1cblxuY2xhc3MgSW1hZ2VDYWNoZURCIHtcbiAgcHJpdmF0ZSBkYk5hbWUgPSAnSW1hZ2VDYWNoZURCJztcbiAgcHJpdmF0ZSB2ZXJzaW9uID0gMTtcbiAgcHJpdmF0ZSBzdG9yZU5hbWUgPSAnaW1hZ2VzJztcbiAgcHJpdmF0ZSBkYjogSURCRGF0YWJhc2UgfCBudWxsID0gbnVsbDtcblxuICBhc3luYyBpbml0KCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCByZXF1ZXN0ID0gaW5kZXhlZERCLm9wZW4odGhpcy5kYk5hbWUsIHRoaXMudmVyc2lvbik7XG5cbiAgICAgIHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHJlamVjdChyZXF1ZXN0LmVycm9yKTtcbiAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4ge1xuICAgICAgICB0aGlzLmRiID0gcmVxdWVzdC5yZXN1bHQ7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH07XG5cbiAgICAgIHJlcXVlc3Qub251cGdyYWRlbmVlZGVkID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGRiID0gKGV2ZW50LnRhcmdldCBhcyBJREJPcGVuREJSZXF1ZXN0KS5yZXN1bHQ7XG4gICAgICAgIGlmICghZGIub2JqZWN0U3RvcmVOYW1lcy5jb250YWlucyh0aGlzLnN0b3JlTmFtZSkpIHtcbiAgICAgICAgICBjb25zdCBzdG9yZSA9IGRiLmNyZWF0ZU9iamVjdFN0b3JlKHRoaXMuc3RvcmVOYW1lLCB7IGtleVBhdGg6ICdpZCcgfSk7XG4gICAgICAgICAgc3RvcmUuY3JlYXRlSW5kZXgoJ3RpbWVzdGFtcCcsICd0aW1lc3RhbXAnLCB7IHVuaXF1ZTogZmFsc2UgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBnZXRJbWFnZShpZDogc3RyaW5nKTogUHJvbWlzZTxDYWNoZWRJbWFnZSB8IG51bGw+IHtcbiAgICBpZiAoIXRoaXMuZGIpIGF3YWl0IHRoaXMuaW5pdCgpO1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gdGhpcy5kYiEudHJhbnNhY3Rpb24oW3RoaXMuc3RvcmVOYW1lXSwgJ3JlYWRvbmx5Jyk7XG4gICAgICBjb25zdCBzdG9yZSA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKHRoaXMuc3RvcmVOYW1lKTtcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBzdG9yZS5nZXQoaWQpO1xuXG4gICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoKSA9PiByZWplY3QocmVxdWVzdC5lcnJvcik7XG4gICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHJlc29sdmUocmVxdWVzdC5yZXN1bHQgfHwgbnVsbCk7XG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBzZXRJbWFnZShpZDogc3RyaW5nLCBibG9iOiBCbG9iLCB0aW1lc3RhbXA6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghdGhpcy5kYikgYXdhaXQgdGhpcy5pbml0KCk7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSB0aGlzLmRiIS50cmFuc2FjdGlvbihbdGhpcy5zdG9yZU5hbWVdLCAncmVhZHdyaXRlJyk7XG4gICAgICBjb25zdCBzdG9yZSA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKHRoaXMuc3RvcmVOYW1lKTtcblxuICAgICAgY29uc3QgY2FjaGVkSW1hZ2U6IENhY2hlZEltYWdlID0ge1xuICAgICAgICBpZCxcbiAgICAgICAgYmxvYixcbiAgICAgICAgdGltZXN0YW1wLFxuICAgICAgICBzaXplOiBibG9iLnNpemUsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gc3RvcmUucHV0KGNhY2hlZEltYWdlKTtcblxuICAgICAgcmVxdWVzdC5vbmVycm9yID0gKCkgPT4gcmVqZWN0KHJlcXVlc3QuZXJyb3IpO1xuICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiByZXNvbHZlKCk7XG4gICAgfSk7XG4gIH1cblxuICBhc3luYyByZW1vdmVJbWFnZShpZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCF0aGlzLmRiKSBhd2FpdCB0aGlzLmluaXQoKTtcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IHRoaXMuZGIhLnRyYW5zYWN0aW9uKFt0aGlzLnN0b3JlTmFtZV0sICdyZWFkd3JpdGUnKTtcbiAgICAgIGNvbnN0IHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUodGhpcy5zdG9yZU5hbWUpO1xuICAgICAgY29uc3QgcmVxdWVzdCA9IHN0b3JlLmRlbGV0ZShpZCk7XG5cbiAgICAgIHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHJlamVjdChyZXF1ZXN0LmVycm9yKTtcbiAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4gcmVzb2x2ZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgY2xlYXJBbGwoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCF0aGlzLmRiKSBhd2FpdCB0aGlzLmluaXQoKTtcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IHRoaXMuZGIhLnRyYW5zYWN0aW9uKFt0aGlzLnN0b3JlTmFtZV0sICdyZWFkd3JpdGUnKTtcbiAgICAgIGNvbnN0IHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUodGhpcy5zdG9yZU5hbWUpO1xuICAgICAgY29uc3QgcmVxdWVzdCA9IHN0b3JlLmNsZWFyKCk7XG5cbiAgICAgIHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHJlamVjdChyZXF1ZXN0LmVycm9yKTtcbiAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4gcmVzb2x2ZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgZ2V0Q2FjaGVTdGF0cygpOiBQcm9taXNlPHsgY291bnQ6IG51bWJlcjsgdG90YWxTaXplOiBudW1iZXIgfT4ge1xuICAgIGlmICghdGhpcy5kYikgYXdhaXQgdGhpcy5pbml0KCk7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSB0aGlzLmRiIS50cmFuc2FjdGlvbihbdGhpcy5zdG9yZU5hbWVdLCAncmVhZG9ubHknKTtcbiAgICAgIGNvbnN0IHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUodGhpcy5zdG9yZU5hbWUpO1xuICAgICAgY29uc3QgcmVxdWVzdCA9IHN0b3JlLmdldEFsbCgpO1xuXG4gICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoKSA9PiByZWplY3QocmVxdWVzdC5lcnJvcik7XG4gICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgaW1hZ2VzID0gcmVxdWVzdC5yZXN1bHQgYXMgQ2FjaGVkSW1hZ2VbXTtcbiAgICAgICAgY29uc3QgdG90YWxTaXplID0gaW1hZ2VzLnJlZHVjZSgoc3VtLCBpbWcpID0+IHN1bSArIGltZy5zaXplLCAwKTtcbiAgICAgICAgcmVzb2x2ZSh7IGNvdW50OiBpbWFnZXMubGVuZ3RoLCB0b3RhbFNpemUgfSk7XG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgY2xlYW51cEV4cGlyZWQoZXhwaXJ5TXM6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghdGhpcy5kYikgYXdhaXQgdGhpcy5pbml0KCk7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSB0aGlzLmRiIS50cmFuc2FjdGlvbihbdGhpcy5zdG9yZU5hbWVdLCAncmVhZHdyaXRlJyk7XG4gICAgICBjb25zdCBzdG9yZSA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKHRoaXMuc3RvcmVOYW1lKTtcbiAgICAgIGNvbnN0IGluZGV4ID0gc3RvcmUuaW5kZXgoJ3RpbWVzdGFtcCcpO1xuICAgICAgY29uc3QgY3V0b2ZmID0gRGF0ZS5ub3coKSAtIGV4cGlyeU1zO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gaW5kZXgub3BlbkN1cnNvcihJREJLZXlSYW5nZS51cHBlckJvdW5kKGN1dG9mZikpO1xuXG4gICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoKSA9PiByZWplY3QocmVxdWVzdC5lcnJvcik7XG4gICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgY3Vyc29yID0gcmVxdWVzdC5yZXN1bHQ7XG4gICAgICAgIGlmIChjdXJzb3IpIHtcbiAgICAgICAgICBjdXJzb3IuZGVsZXRlKCk7XG4gICAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBpbWFnZUNhY2hlREIgPSBuZXcgSW1hZ2VDYWNoZURCKCk7XG5leHBvcnQgZGVmYXVsdCBpbWFnZUNhY2hlREI7XG4iXSwibmFtZXMiOlsiSW1hZ2VDYWNoZURCIiwiaW5pdCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicmVxdWVzdCIsImluZGV4ZWREQiIsIm9wZW4iLCJkYk5hbWUiLCJ2ZXJzaW9uIiwib25lcnJvciIsImVycm9yIiwib25zdWNjZXNzIiwiZGIiLCJyZXN1bHQiLCJvbnVwZ3JhZGVuZWVkZWQiLCJldmVudCIsInRhcmdldCIsIm9iamVjdFN0b3JlTmFtZXMiLCJjb250YWlucyIsInN0b3JlTmFtZSIsInN0b3JlIiwiY3JlYXRlT2JqZWN0U3RvcmUiLCJrZXlQYXRoIiwiY3JlYXRlSW5kZXgiLCJ1bmlxdWUiLCJnZXRJbWFnZSIsImlkIiwidHJhbnNhY3Rpb24iLCJvYmplY3RTdG9yZSIsImdldCIsInNldEltYWdlIiwiYmxvYiIsInRpbWVzdGFtcCIsImNhY2hlZEltYWdlIiwic2l6ZSIsInB1dCIsInJlbW92ZUltYWdlIiwiZGVsZXRlIiwiY2xlYXJBbGwiLCJjbGVhciIsImdldENhY2hlU3RhdHMiLCJnZXRBbGwiLCJpbWFnZXMiLCJ0b3RhbFNpemUiLCJyZWR1Y2UiLCJzdW0iLCJpbWciLCJjb3VudCIsImxlbmd0aCIsImNsZWFudXBFeHBpcmVkIiwiZXhwaXJ5TXMiLCJpbmRleCIsImN1dG9mZiIsIkRhdGUiLCJub3ciLCJvcGVuQ3Vyc29yIiwiSURCS2V5UmFuZ2UiLCJ1cHBlckJvdW5kIiwiY3Vyc29yIiwiY29udGludWUiLCJpbWFnZUNhY2hlREIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./utils/indexedDB.ts\n");

/***/ }),

/***/ "./utils/mockImage.ts":
/*!****************************!*\
  !*** ./utils/mockImage.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createMockImage: () => (/* binding */ createMockImage),\n/* harmony export */   mockImageResponse: () => (/* binding */ mockImageResponse),\n/* harmony export */   shouldUseMock: () => (/* binding */ shouldUseMock)\n/* harmony export */ });\n// Mock image generator for testing\nconst createMockImage = (width = 400, height = 300, text = \"Mock Image\")=>{\n    return new Promise((resolve)=>{\n        const canvas = document.createElement(\"canvas\");\n        canvas.width = width;\n        canvas.height = height;\n        const ctx = canvas.getContext(\"2d\");\n        // Create gradient background\n        const gradient = ctx.createLinearGradient(0, 0, width, height);\n        gradient.addColorStop(0, \"#667eea\");\n        gradient.addColorStop(1, \"#764ba2\");\n        ctx.fillStyle = gradient;\n        ctx.fillRect(0, 0, width, height);\n        // Add some geometric shapes\n        ctx.fillStyle = \"rgba(255, 255, 255, 0.1)\";\n        ctx.beginPath();\n        ctx.arc(width * 0.3, height * 0.3, 50, 0, Math.PI * 2);\n        ctx.fill();\n        ctx.fillStyle = \"rgba(255, 255, 255, 0.1)\";\n        ctx.beginPath();\n        ctx.rect(width * 0.6, height * 0.6, 80, 40);\n        ctx.fill();\n        // Add text\n        ctx.fillStyle = \"white\";\n        ctx.font = \"bold 24px Arial\";\n        ctx.textAlign = \"center\";\n        ctx.textBaseline = \"middle\";\n        ctx.fillText(text, width / 2, height / 2);\n        // Add timestamp\n        ctx.font = \"12px Arial\";\n        ctx.fillText(`Generated: ${new Date().toLocaleTimeString()}`, width / 2, height - 20);\n        // Convert to blob\n        canvas.toBlob((blob)=>{\n            resolve(blob);\n        }, \"image/png\");\n    });\n};\n// Mock API response for testing\nconst mockImageResponse = async (imageId)=>{\n    const mockBlob = await createMockImage(400, 300, `Mock: ${imageId}`);\n    return new Response(mockBlob, {\n        status: 200,\n        headers: {\n            \"Content-Type\": \"image/png\",\n            \"Content-Length\": mockBlob.size.toString()\n        }\n    });\n};\n// Check if we should use mock data\nconst shouldUseMock = ()=>{\n    // Use mock if in development and backend is not available\n    return  true && (process.env.NEXT_PUBLIC_USE_MOCK === \"true\" || process.env.NEXT_PUBLIC_BACKEND_URL === undefined);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi91dGlscy9tb2NrSW1hZ2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsbUNBQW1DO0FBQzVCLE1BQU1BLGtCQUFrQixDQUM3QkMsUUFBZ0IsR0FBRyxFQUNuQkMsU0FBaUIsR0FBRyxFQUNwQkMsT0FBZSxZQUFZO0lBRTNCLE9BQU8sSUFBSUMsUUFBUSxDQUFDQztRQUNsQixNQUFNQyxTQUFTQyxTQUFTQyxhQUFhLENBQUM7UUFDdENGLE9BQU9MLEtBQUssR0FBR0E7UUFDZkssT0FBT0osTUFBTSxHQUFHQTtRQUNoQixNQUFNTyxNQUFNSCxPQUFPSSxVQUFVLENBQUM7UUFFOUIsNkJBQTZCO1FBQzdCLE1BQU1DLFdBQVdGLElBQUlHLG9CQUFvQixDQUFDLEdBQUcsR0FBR1gsT0FBT0M7UUFDdkRTLFNBQVNFLFlBQVksQ0FBQyxHQUFHO1FBQ3pCRixTQUFTRSxZQUFZLENBQUMsR0FBRztRQUN6QkosSUFBSUssU0FBUyxHQUFHSDtRQUNoQkYsSUFBSU0sUUFBUSxDQUFDLEdBQUcsR0FBR2QsT0FBT0M7UUFFMUIsNEJBQTRCO1FBQzVCTyxJQUFJSyxTQUFTLEdBQUc7UUFDaEJMLElBQUlPLFNBQVM7UUFDYlAsSUFBSVEsR0FBRyxDQUFDaEIsUUFBUSxLQUFLQyxTQUFTLEtBQUssSUFBSSxHQUFHZ0IsS0FBS0MsRUFBRSxHQUFHO1FBQ3BEVixJQUFJVyxJQUFJO1FBRVJYLElBQUlLLFNBQVMsR0FBRztRQUNoQkwsSUFBSU8sU0FBUztRQUNiUCxJQUFJWSxJQUFJLENBQUNwQixRQUFRLEtBQUtDLFNBQVMsS0FBSyxJQUFJO1FBQ3hDTyxJQUFJVyxJQUFJO1FBRVIsV0FBVztRQUNYWCxJQUFJSyxTQUFTLEdBQUc7UUFDaEJMLElBQUlhLElBQUksR0FBRztRQUNYYixJQUFJYyxTQUFTLEdBQUc7UUFDaEJkLElBQUllLFlBQVksR0FBRztRQUNuQmYsSUFBSWdCLFFBQVEsQ0FBQ3RCLE1BQU1GLFFBQVEsR0FBR0MsU0FBUztRQUV2QyxnQkFBZ0I7UUFDaEJPLElBQUlhLElBQUksR0FBRztRQUNYYixJQUFJZ0IsUUFBUSxDQUNWLENBQUMsV0FBVyxFQUFFLElBQUlDLE9BQU9DLGtCQUFrQixHQUFHLENBQUMsRUFDL0MxQixRQUFRLEdBQ1JDLFNBQVM7UUFHWCxrQkFBa0I7UUFDbEJJLE9BQU9zQixNQUFNLENBQUMsQ0FBQ0M7WUFDYnhCLFFBQVF3QjtRQUNWLEdBQUc7SUFDTDtBQUNGLEVBQUU7QUFFRixnQ0FBZ0M7QUFDekIsTUFBTUMsb0JBQW9CLE9BQU9DO0lBQ3RDLE1BQU1DLFdBQVcsTUFBTWhDLGdCQUFnQixLQUFLLEtBQUssQ0FBQyxNQUFNLEVBQUUrQixRQUFRLENBQUM7SUFFbkUsT0FBTyxJQUFJRSxTQUFTRCxVQUFVO1FBQzVCRSxRQUFRO1FBQ1JDLFNBQVM7WUFDUCxnQkFBZ0I7WUFDaEIsa0JBQWtCSCxTQUFTSSxJQUFJLENBQUNDLFFBQVE7UUFDMUM7SUFDRjtBQUNGLEVBQUU7QUFFRixtQ0FBbUM7QUFDNUIsTUFBTUMsZ0JBQWdCO0lBQzNCLDBEQUEwRDtJQUMxRCxPQUNFQyxLQUF5QixJQUN4QkEsQ0FBQUEsUUFBUUMsR0FBRyxDQUFDQyxvQkFBb0IsS0FBSyxVQUNwQ0YsUUFBUUMsR0FBRyxDQUFDRSx1QkFBdUIsS0FBS0MsU0FBUTtBQUV0RCxFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2lnbmlueC8uL3V0aWxzL21vY2tJbWFnZS50cz8zYmRiIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIE1vY2sgaW1hZ2UgZ2VuZXJhdG9yIGZvciB0ZXN0aW5nXG5leHBvcnQgY29uc3QgY3JlYXRlTW9ja0ltYWdlID0gKFxuICB3aWR0aDogbnVtYmVyID0gNDAwLFxuICBoZWlnaHQ6IG51bWJlciA9IDMwMCxcbiAgdGV4dDogc3RyaW5nID0gJ01vY2sgSW1hZ2UnXG4pOiBQcm9taXNlPEJsb2I+ID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcbiAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKSE7XG5cbiAgICAvLyBDcmVhdGUgZ3JhZGllbnQgYmFja2dyb3VuZFxuICAgIGNvbnN0IGdyYWRpZW50ID0gY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcCgwLCAnIzY2N2VlYScpO1xuICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcCgxLCAnIzc2NGJhMicpO1xuICAgIGN0eC5maWxsU3R5bGUgPSBncmFkaWVudDtcbiAgICBjdHguZmlsbFJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG5cbiAgICAvLyBBZGQgc29tZSBnZW9tZXRyaWMgc2hhcGVzXG4gICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSknO1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHguYXJjKHdpZHRoICogMC4zLCBoZWlnaHQgKiAwLjMsIDUwLCAwLCBNYXRoLlBJICogMik7XG4gICAgY3R4LmZpbGwoKTtcblxuICAgIGN0eC5maWxsU3R5bGUgPSAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpJztcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4LnJlY3Qod2lkdGggKiAwLjYsIGhlaWdodCAqIDAuNiwgODAsIDQwKTtcbiAgICBjdHguZmlsbCgpO1xuXG4gICAgLy8gQWRkIHRleHRcbiAgICBjdHguZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICBjdHguZm9udCA9ICdib2xkIDI0cHggQXJpYWwnO1xuICAgIGN0eC50ZXh0QWxpZ24gPSAnY2VudGVyJztcbiAgICBjdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XG4gICAgY3R4LmZpbGxUZXh0KHRleHQsIHdpZHRoIC8gMiwgaGVpZ2h0IC8gMik7XG5cbiAgICAvLyBBZGQgdGltZXN0YW1wXG4gICAgY3R4LmZvbnQgPSAnMTJweCBBcmlhbCc7XG4gICAgY3R4LmZpbGxUZXh0KFxuICAgICAgYEdlbmVyYXRlZDogJHtuZXcgRGF0ZSgpLnRvTG9jYWxlVGltZVN0cmluZygpfWAsXG4gICAgICB3aWR0aCAvIDIsXG4gICAgICBoZWlnaHQgLSAyMFxuICAgICk7XG5cbiAgICAvLyBDb252ZXJ0IHRvIGJsb2JcbiAgICBjYW52YXMudG9CbG9iKChibG9iKSA9PiB7XG4gICAgICByZXNvbHZlKGJsb2IhKTtcbiAgICB9LCAnaW1hZ2UvcG5nJyk7XG4gIH0pO1xufTtcblxuLy8gTW9jayBBUEkgcmVzcG9uc2UgZm9yIHRlc3RpbmdcbmV4cG9ydCBjb25zdCBtb2NrSW1hZ2VSZXNwb25zZSA9IGFzeW5jIChpbWFnZUlkOiBzdHJpbmcpOiBQcm9taXNlPFJlc3BvbnNlPiA9PiB7XG4gIGNvbnN0IG1vY2tCbG9iID0gYXdhaXQgY3JlYXRlTW9ja0ltYWdlKDQwMCwgMzAwLCBgTW9jazogJHtpbWFnZUlkfWApO1xuXG4gIHJldHVybiBuZXcgUmVzcG9uc2UobW9ja0Jsb2IsIHtcbiAgICBzdGF0dXM6IDIwMCxcbiAgICBoZWFkZXJzOiB7XG4gICAgICAnQ29udGVudC1UeXBlJzogJ2ltYWdlL3BuZycsXG4gICAgICAnQ29udGVudC1MZW5ndGgnOiBtb2NrQmxvYi5zaXplLnRvU3RyaW5nKCksXG4gICAgfSxcbiAgfSk7XG59O1xuXG4vLyBDaGVjayBpZiB3ZSBzaG91bGQgdXNlIG1vY2sgZGF0YVxuZXhwb3J0IGNvbnN0IHNob3VsZFVzZU1vY2sgPSAoKTogYm9vbGVhbiA9PiB7XG4gIC8vIFVzZSBtb2NrIGlmIGluIGRldmVsb3BtZW50IGFuZCBiYWNrZW5kIGlzIG5vdCBhdmFpbGFibGVcbiAgcmV0dXJuIChcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyAmJlxuICAgIChwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19VU0VfTU9DSyA9PT0gJ3RydWUnIHx8XG4gICAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTCA9PT0gdW5kZWZpbmVkKVxuICApO1xufTtcbiJdLCJuYW1lcyI6WyJjcmVhdGVNb2NrSW1hZ2UiLCJ3aWR0aCIsImhlaWdodCIsInRleHQiLCJQcm9taXNlIiwicmVzb2x2ZSIsImNhbnZhcyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImN0eCIsImdldENvbnRleHQiLCJncmFkaWVudCIsImNyZWF0ZUxpbmVhckdyYWRpZW50IiwiYWRkQ29sb3JTdG9wIiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJiZWdpblBhdGgiLCJhcmMiLCJNYXRoIiwiUEkiLCJmaWxsIiwicmVjdCIsImZvbnQiLCJ0ZXh0QWxpZ24iLCJ0ZXh0QmFzZWxpbmUiLCJmaWxsVGV4dCIsIkRhdGUiLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJ0b0Jsb2IiLCJibG9iIiwibW9ja0ltYWdlUmVzcG9uc2UiLCJpbWFnZUlkIiwibW9ja0Jsb2IiLCJSZXNwb25zZSIsInN0YXR1cyIsImhlYWRlcnMiLCJzaXplIiwidG9TdHJpbmciLCJzaG91bGRVc2VNb2NrIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1VTRV9NT0NLIiwiTkVYVF9QVUJMSUNfQkFDS0VORF9VUkwiLCJ1bmRlZmluZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./utils/mockImage.ts\n");

/***/ }),

/***/ "next/dist/compiled/next-server/pages.runtime.dev.js":
/*!**********************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages.runtime.dev.js" ***!
  \**********************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages.runtime.dev.js");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

module.exports = require("react");

/***/ }),

/***/ "react/jsx-dev-runtime":
/*!****************************************!*\
  !*** external "react/jsx-dev-runtime" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("react/jsx-dev-runtime");

/***/ }),

/***/ "react/jsx-runtime":
/*!************************************!*\
  !*** external "react/jsx-runtime" ***!
  \************************************/
/***/ ((module) => {

module.exports = require("react/jsx-runtime");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@swc"], () => (__webpack_exec__("./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Fimage-demo&preferredRegion=&absolutePagePath=.%2Fpages%2Fimage-demo.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();